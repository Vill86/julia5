<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –§–∏–Ω–Ω–∏–∫–∞</title>
    <style>
        /* --- –û–ë–©–ò–ï –°–¢–ò–õ–ò –ò–ì–†–´ --- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #e0f2f1;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            color: #004d40;
        }

        .game-container {
            width: 90%;
            max-width: 500px;
            background-color: #ffffff;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .level, #start-screen, #final-screen {
            display: none;
            flex-direction: column;
            align-items: center;
        }

        #start-screen.active,
        #final-screen.active,
        .level.active {
            display: flex;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        h1 {
            font-size: 1.8rem;
            margin-bottom: 10px;
        }
        
        h2 {
            font-size: 1.4rem;
            margin: 10px 0;
            color: #00796b;
        }

        p {
            font-size: 1.1rem;
        }

        button {
            background-color: #ffc107;
            border: none;
            border-radius: 10px;
            padding: 15px 30px;
            font-size: 1.2rem;
            font-weight: bold;
            color: #444;
            cursor: pointer;
            transition: transform 0.2s, background-color 0.2s;
            margin-top: 10px;
        }

        button:hover {
            transform: scale(1.05);
            background-color: #ffca28;
        }

        #message-area {
            min-height: 40px;
            font-size: 1.2rem;
            font-weight: bold;
            margin-top: 15px;
        }
        .correct { color: #4caf50; }
        .incorrect { color: #f44336; }

        /* --- –°–¢–ò–õ–ò –î–õ–Ø –£–†–û–í–ù–ï–ô --- */
        .items-grid {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .clickable {
            font-size: 4rem;
            cursor: pointer;
            transition: transform 0.2s;
            padding: 10px;
            border-radius: 10px;
        }

        .clickable:hover {
            transform: scale(1.1);
            background-color: rgba(255, 193, 7, 0.3);
        }

        .shake {
            animation: shake 0.5s;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —É—Ä–æ–≤–Ω—è 2 (–ú–µ–º–æ—Ä–∏) */
        #level-2 .clickable {
            width: 60px;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #81c784;
            color: transparent;
            font-size: 3rem;
            user-select: none;
        }
        #level-2 .clickable.flipped, 
        #level-2 .clickable.matched {
            background-color: #fff59d;
            color: #000;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —É—Ä–æ–≤–Ω—è 5 (–ö–æ–¥–æ–≤—ã–π –∑–∞–º–æ–∫) */
        #code-display {
            font-size: 2rem;
            letter-spacing: 10px;
            margin: 15px auto;
            padding: 10px;
            border: 2px dashed #00796b;
            border-radius: 10px;
            min-height: 40px;
            width: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #keypad { 
            display: flex; 
            gap: 10px; 
            justify-content: center;
        }
        #keypad .clickable { 
            font-size: 2rem; 
            border: 1px solid #ccc; 
            width: 60px; 
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —É—Ä–æ–≤–Ω—è 6 (–°—á—ë—Ç) */
        .count-items {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —É—Ä–æ–≤–Ω—è 7 (–õ–∞–±–∏—Ä–∏–Ω—Ç) */
        #maze-container {
            display: grid;
            grid-template-columns: repeat(5, 60px);
            gap: 5px;
            margin: 20px auto;
        }
        
        .maze-cell {
            width: 60px;
            height: 60px;
            background-color: #81c784;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .maze-cell.wall {
            background-color: #424242;
        }
        
        .maze-cell.path {
            background-color: #fff59d;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —É—Ä–æ–≤–Ω—è 8 (–ü–∞–∑–ª) */
        #puzzle-container {
            display: grid;
            grid-template-columns: repeat(3, 80px);
            gap: 5px;
            margin: 20px auto;
            width: fit-content;
        }
        
        .puzzle-piece {
            width: 80px;
            height: 80px;
            background-color: #81c784;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .puzzle-piece.empty {
            background-color: #e0e0e0;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —É—Ä–æ–≤–Ω—è 9 (–¢–µ–Ω—å) */
        .shadow-game {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .shadow-item {
            font-size: 5rem;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —É—Ä–æ–≤–Ω—è 10 (–†–∏—Ç–º) */
        .rhythm-button {
            width: 100px;
            height: 100px;
            font-size: 3rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .rhythm-button.active-pulse {
            animation: pulse 0.5s;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); background-color: #ffeb3b; }
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —É—Ä–æ–≤–Ω—è 11 (–ù–∞–π–¥–∏ –ø–∞—Ä—É) */
        .pair-items {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .pair-column {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .pair-item {
            padding: 15px;
            background-color: #e0f2f1;
            border-radius: 10px;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.3s;
        }
        
        .pair-item.selected {
            border-color: #ffc107;
            background-color: #fff9c4;
        }
        
        .pair-item.matched {
            background-color: #c8e6c9;
            border-color: #4caf50;
            cursor: default;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —É—Ä–æ–≤–Ω—è 13 (–ü–æ–π–º–∞–π –ø—Ä–µ–¥–º–µ—Ç) */
        #catch-game {
            position: relative;
            width: 100%;
            height: 300px;
            background-color: #e1f5fe;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .falling-item {
            position: absolute;
            font-size: 3rem;
            cursor: pointer;
        }
        
        #basket {
            position: absolute;
            bottom: 10px;
            font-size: 4rem;
            cursor: pointer;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —É—Ä–æ–≤–Ω—è 14 (–†–∏—Å–æ–≤–∞–Ω–∏–µ) */
        #drawing-canvas {
            border: 3px solid #00796b;
            border-radius: 10px;
            cursor: crosshair;
            touch-action: none;
            margin: 10px auto;
        }
        
        .color-palette {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            justify-content: center;
        }
        
        .color-button {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 3px solid #333;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .color-button:hover {
            transform: scale(1.1);
        }

        .color-button.selected {
            border-width: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —É—Ä–æ–≤–Ω—è 15 (–ù–∞–π–¥–∏ –æ—Ç–ª–∏—á–∏—è) */
        #differences-container {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .difference-image {
            position: relative;
            font-size: 8rem;
            line-height: 1;
        }
        
        .difference-spot {
            position: absolute;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 3px solid transparent;
            cursor: pointer;
        }
        
        .difference-spot:hover {
            background-color: rgba(255, 193, 7, 0.3);
        }
        
        .difference-spot.found {
            border-color: #4caf50;
            background-color: rgba(76, 175, 80, 0.5);
            cursor: default;
        }

        /* –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä */
        .progress-container {
            width: 100%;
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin: 15px 0;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #4caf50, #8bc34a);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.8rem;
        }
    </style>
</head>
<body>

    <div class="game-container">
        <!-- –°—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω -->
        <div id="start-screen" class="active">
            <h1>–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –§–∏–Ω–Ω–∏–∫–∞</h1>
            <p>–ü–æ–º–æ–≥–∏ –±–µ–ª—å—á–æ–Ω–∫—É –§–∏–Ω–Ω–∏–∫—É –Ω–∞–π—Ç–∏ –µ–≥–æ –í–æ–ª—à–µ–±–Ω—ã–π –ñ—ë–ª—É–¥—å, —Ä–µ—à–∞—è 15 –≥–æ–ª–æ–≤–æ–ª–æ–º–æ–∫!</p>
            <div style="font-size: 5rem; margin: 20px 0;">üêøÔ∏è</div>
            <button id="start-button">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É!</button>
        </div>

        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —É—Ä–æ–≤–Ω–µ–π -->
        <div id="game-area">
            <div id="game-header">
                <h1>–£—Ä–æ–≤–µ–Ω—å <span id="level-number">1</span> / 15</h1>
                <div class="progress-container">
                    <div class="progress-bar" id="progress-bar" style="width: 0%"></div>
                </div>
                <div id="message-area"></div>
            </div>

            <!-- –£—Ä–æ–≤–µ–Ω—å 1: –ù–∞–π–¥–∏ –ª–∏—à–Ω–µ–µ -->
            <div id="level-1" class="level">
                <h2>–ù–∞–π–¥–∏ –ª–∏—à–Ω–∏–π –ø—Ä–µ–¥–º–µ—Ç</h2>
                <div class="items-grid">
                    <div class="clickable" data-correct="false">üçÑ</div>
                    <div class="clickable" data-correct="true">üå∏</div>
                    <div class="clickable" data-correct="false">üçÑ</div>
                    <div class="clickable" data-correct="false">üçÑ</div>
                </div>
            </div>

            <!-- –£—Ä–æ–≤–µ–Ω—å 2: –ú–µ–º–æ—Ä–∏ -->
            <div id="level-2" class="level">
                <h2>–ù–∞–π–¥–∏ –≤—Å–µ –ø–∞—Ä—ã</h2>
                <div id="memory-grid" class="items-grid"></div>
            </div>

            <!-- –£—Ä–æ–≤–µ–Ω—å 3: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ -->
            <div id="level-3" class="level">
                <h2>–ù–∞–∂–º–∏ –ø–æ –ø–æ—Ä—è–¥–∫—É: –æ—Ç –º–∞–ª–µ–Ω—å–∫–æ–≥–æ –∫ –±–æ–ª—å—à–æ–º—É</h2>
                <div class="items-grid">
                    <div class="clickable" data-order="3">üå≥</div>
                    <div class="clickable" data-order="1">üå±</div>
                    <div class="clickable" data-order="2">üåø</div>
                </div>
            </div>

            <!-- –£—Ä–æ–≤–µ–Ω—å 4: –°–º–µ—à–∞–π —Ü–≤–µ—Ç–∞ -->
            <div id="level-4" class="level">
                <h2>–°–º–µ—à–∞–π –∂—ë–ª—Ç—ã–π –∏ —Å–∏–Ω–∏–π, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∑–µ–ª—ë–Ω—ã–π</h2>
                <div class="items-grid">
                    <div class="clickable" data-color="yellow">üü°</div>
                    <div class="clickable" data-color="blue">üîµ</div>
                    <div class="clickable" data-color="red">üî¥</div>
                </div>
            </div>
            
            <!-- –£—Ä–æ–≤–µ–Ω—å 5: –ö–æ–¥–æ–≤—ã–π –∑–∞–º–æ–∫ -->
            <div id="level-5" class="level">
                <h2>–í–≤–µ–¥–∏ –∫–æ–¥: üíßüçÉüíé</h2>
                <p>üíß=1, üçÉ=2, üíé=3</p>
                <div id="code-display"></div>
                <div id="keypad">
                    <div class="clickable" data-digit="1">1</div>
                    <div class="clickable" data-digit="2">2</div>
                    <div class="clickable" data-digit="3">3</div>
                </div>
            </div>

            <!-- –£—Ä–æ–≤–µ–Ω—å 6: –ü–æ—Å—á–∏—Ç–∞–π –ø—Ä–µ–¥–º–µ—Ç—ã -->
            <div id="level-6" class="level">
                <h2>–°–∫–æ–ª—å–∫–æ –∑–¥–µ—Å—å –æ—Ä–µ—à–∫–æ–≤?</h2>
                <div class="count-items">
                    <span style="font-size: 3rem;">üå∞</span>
                    <span style="font-size: 3rem;">üå∞</span>
                    <span style="font-size: 3rem;">üå∞</span>
                    <span style="font-size: 3rem;">üå∞</span>
                    <span style="font-size: 3rem;">üå∞</span>
                </div>
                <div class="items-grid">
                    <div class="clickable" data-answer="4">4</div>
                    <div class="clickable" data-answer="5">5</div>
                    <div class="clickable" data-answer="6">6</div>
                </div>
            </div>

            <!-- –£—Ä–æ–≤–µ–Ω—å 7: –õ–∞–±–∏—Ä–∏–Ω—Ç -->
            <div id="level-7" class="level">
                <h2>–ü—Ä–æ–≤–µ–¥–∏ –±–µ–ª–æ—á–∫—É –∫ –∂—ë–ª—É–¥—é</h2>
                <p style="font-size: 0.9rem;">–ù–∞–∂–∏–º–∞–π –Ω–∞ –∑–µ–ª—ë–Ω—ã–µ –∫–ª–µ—Ç–∫–∏ –ø–æ –ø–æ—Ä—è–¥–∫—É</p>
                <div id="maze-container"></div>
            </div>

            <!-- –£—Ä–æ–≤–µ–Ω—å 8: –ü–∞–∑–ª-–ø—è—Ç–Ω–∞—à–∫–∏ -->
            <div id="level-8" class="level">
                <h2>–°–æ–±–µ—Ä–∏ –∫–∞—Ä—Ç–∏–Ω–∫—É –ø–æ –ø–æ—Ä—è–¥–∫—É</h2>
                <p style="font-size: 0.9rem;">–ù–∞–∂–∏–º–∞–π –Ω–∞ –ø–ª–∏—Ç–∫–∏ —Ä—è–¥–æ–º —Å –ø—É—Å—Ç—ã–º –º–µ—Å—Ç–æ–º</p>
                <div id="puzzle-container"></div>
            </div>

            <!-- –£—Ä–æ–≤–µ–Ω—å 9: –ù–∞–π–¥–∏ —Ç–µ–Ω—å -->
            <div id="level-9" class="level">
                <h2>–ö–∞–∫–∞—è —Ç–µ–Ω—å –ø–æ–¥—Ö–æ–¥–∏—Ç –∫ –≥—Ä–∏–±—É?</h2>
                <div class="shadow-game">
                    <div class="shadow-item">üçÑ</div>
                    <div class="items-grid">
                        <div class="clickable" data-correct="false">üå≤</div>
                        <div class="clickable" data-correct="true">üçÑ</div>
                        <div class="clickable" data-correct="false">üå∏</div>
                    </div>
                </div>
            </div>

            <!-- –£—Ä–æ–≤–µ–Ω—å 10: –ü–æ–≤—Ç–æ—Ä–∏ —Ä–∏—Ç–º -->
            <div id="level-10" class="level">
                <h2>–ó–∞–ø–æ–º–Ω–∏ –∏ –ø–æ–≤—Ç–æ—Ä–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å</h2>
                <p id="rhythm-status">–°–º–æ—Ç—Ä–∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ!</p>
                <div class="items-grid">
                    <button class="rhythm-button clickable" data-index="0">üî¥</button>
                    <button class="rhythm-button clickable" data-index="1">üîµ</button>
                    <button class="rhythm-button clickable" data-index="2">üü¢</button>
                    <button class="rhythm-button clickable" data-index="3">üü°</button>
                </div>
            </div>

            <!-- –£—Ä–æ–≤–µ–Ω—å 11: –ù–∞–π–¥–∏ –ø–∞—Ä—É (—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ) -->
            <div id="level-11" class="level">
                <h2>–°–æ–µ–¥–∏–Ω–∏ –∂–∏–≤–æ—Ç–Ω—ã—Ö —Å –∏—Ö –¥–æ–º–∞–º–∏</h2>
                <div class="pair-items">
                    <div class="pair-column">
                        <div class="pair-item" data-type="animal" data-id="bee">üêù –ü—á–µ–ª–∞</div>
                        <div class="pair-item" data-type="animal" data-id="bird">üê¶ –ü—Ç–∏—Ü–∞</div>
                        <div class="pair-item" data-type="animal" data-id="squirrel">üêøÔ∏è –ë–µ–ª–∫–∞</div>
                    </div>
                    <div class="pair-column">
                        <div class="pair-item" data-type="home" data-id="hive">üçØ –£–ª–µ–π</div>
                        <div class="pair-item" data-type="home" data-id="nest">ü™∫ –ì–Ω–µ–∑–¥–æ</div>
                        <div class="pair-item" data-type="home" data-id="hollow">üå≥ –î—É–ø–ª–æ</div>
                    </div>
                </div>
            </div>

            <!-- –£—Ä–æ–≤–µ–Ω—å 12: –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ -->
            <div id="level-12" class="level">
                <h2>–†–µ—à–∏ –ø—Ä–∏–º–µ—Ä</h2>
                <p style="font-size: 2rem; margin: 20px 0;">3 + 2 = ?</p>
                <div class="math-options items-grid">
                    <div class="clickable" data-answer="4">4</div>
                    <div class="clickable" data-answer="5">5</div>
                    <div class="clickable" data-answer="6">6</div>
                </div>
            </div>

            <!-- –£—Ä–æ–≤–µ–Ω—å 13: –ü–æ–π–º–∞–π –ø—Ä–µ–¥–º–µ—Ç—ã -->
            <div id="level-13" class="level">
                <h2>–ü–æ–π–º–∞–π 5 –æ—Ä–µ—à–∫–æ–≤!</h2>
                <p>–ü–æ–π–º–∞–Ω—ã: <span id="caught-count">0</span> / 5</p>
                <div id="catch-game">
                    <div id="basket">üß∫</div>
                </div>
            </div>

            <!-- –£—Ä–æ–≤–µ–Ω—å 14: –ù–∞—Ä–∏—Å—É–π —Ñ–∏–≥—É—Ä—É -->
            <div id="level-14" class="level">
                <h2>–ù–∞—Ä–∏—Å—É–π –∫—Ä—É–≥ üîµ</h2>
                <div class="color-palette">
                    <div class="color-button selected" style="background: red;" data-color="red"></div>
                    <div class="color-button" style="background: blue;" data-color="blue"></div>
                    <div class="color-button" style="background: green;" data-color="green"></div>
                    <div class="color-button" style="background: yellow;" data-color="yellow"></div>
                </div>
                <canvas id="drawing-canvas" width="300" height="300"></canvas>
                <div>
                    <button id="clear-canvas">–û—á–∏—Å—Ç–∏—Ç—å</button>
                    <button id="check-drawing">–ì–æ—Ç–æ–≤–æ! –ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                </div>
            </div>

            <!-- –£—Ä–æ–≤–µ–Ω—å 15: –ù–∞–π–¥–∏ 3 –æ—Ç–ª–∏—á–∏—è -->
            <div id="level-15" class="level">
                <h2>–ù–∞–π–¥–∏ 3 –æ—Ç–ª–∏—á–∏—è –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ —Å–ø—Ä–∞–≤–∞</h2>
                <p>–ù–∞–π–¥–µ–Ω–æ: <span id="differences-found">0</span> / 3</p>
                <div id="differences-container">
                    <div style="position: relative;">
                        <div class="difference-image">üè†</div>
                    </div>
                    <div style="position: relative;">
                        <div class="difference-image">üè†</div>
                        <div class="difference-spot" data-diff="1" style="top: 20px; left: 30px;"></div>
                        <div class="difference-spot" data-diff="2" style="top: 80px; left: 80px;"></div>
                        <div class="difference-spot" data-diff="3" style="top: 120px; left: 40px;"></div>
                    </div>
                </div>
            </div>

        </div>

        <!-- –§–∏–Ω–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω -->
        <div id="final-screen">
            <h1>üéâ –£—Ä–∞! –ü–æ–±–µ–¥–∞! üéâ</h1>
            <p>–¢—ã –ø–æ–º–æ–≥ –§–∏–Ω–Ω–∏–∫—É –Ω–∞–π—Ç–∏ –µ–≥–æ –í–æ–ª—à–µ–±–Ω—ã–π –ñ—ë–ª—É–¥—å! –¢—ã –ø—Ä–æ—à—ë–ª –≤—Å–µ 15 —É—Ä–æ–≤–Ω–µ–π!</p>
            <div style="font-size: 5rem;">üèÜüêøÔ∏èüå∞</div>
            <p style="font-size: 2rem; margin: 20px 0;">‚≠ê‚≠ê‚≠ê</p>
            <p>–¢—ã –Ω–∞—Å—Ç–æ—è—â–∏–π –≥–µ—Ä–æ–π!</p>
            <button id="restart-button">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            let currentLevel = 1;
            const totalLevels = 15;

            const startScreen = document.getElementById('start-screen');
            const gameArea = document.getElementById('game-area');
            const finalScreen = document.getElementById('final-screen');
            const startButton = document.getElementById('start-button');
            const restartButton = document.getElementById('restart-button');
            const levelNumberEl = document.getElementById('level-number');
            const messageArea = document.getElementById('message-area');
            const progressBar = document.getElementById('progress-bar');

            function startGame() {
                currentLevel = 1;
                startScreen.classList.remove('active');
                finalScreen.classList.remove('active');
                gameArea.style.display = 'block';
                showLevel(currentLevel);
            }

            function updateProgressBar() {
                const progress = ((currentLevel - 1) / totalLevels) * 100;
                progressBar.style.width = progress + '%';
                progressBar.textContent = Math.round(progress) + '%';
            }

            function showLevel(levelNum) {
                document.querySelectorAll('.level').forEach(lvl => {
                    lvl.classList.remove('active');
                });
                
                if (levelNum <= totalLevels) {
                    const levelToShow = document.getElementById(`level-${levelNum}`);
                    levelToShow.classList.add('active');
                    levelNumberEl.textContent = levelNum;
                    messageArea.textContent = '';
                    messageArea.className = '';
                    updateProgressBar();
                    
                    if (levelNum === 2) initLevel2();
                    if (levelNum === 3) initLevel3();
                    if (levelNum === 4) initLevel4();
                    if (levelNum === 5) initLevel5();
                    if (levelNum === 7) initLevel7();
                    if (levelNum === 8) initLevel8();
                    if (levelNum === 10) initLevel10();
                    if (levelNum === 11) initLevel11();
                    if (levelNum === 13) initLevel13();
                    if (levelNum === 14) initLevel14();
                    if (levelNum === 15) initLevel15();
                } else {
                    showFinalScreen();
                }
            }
            
            function showFinalScreen() {
                gameArea.style.display = 'none';
                finalScreen.classList.add('active');
            }

            function handleCorrect() {
                messageArea.textContent = '–ü—Ä–∞–≤–∏–ª—å–Ω–æ! üéâ';
                messageArea.className = 'correct';
                setTimeout(() => {
                    currentLevel++;
                    showLevel(currentLevel);
                }, 1500);
            }

            function handleIncorrect(element) {
                messageArea.textContent = '–ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑! ü§î';
                messageArea.className = 'incorrect';
                if (element) {
                    element.classList.add('shake');
                    setTimeout(() => element.classList.remove('shake'), 500);
                }
            }

            // === –£–†–û–í–ï–ù–¨ 1: –ù–∞–π–¥–∏ –ª–∏—à–Ω–µ–µ ===
            function initLevel1() {
                document.querySelectorAll('#level-1 .clickable').forEach(item => {
                    const newItem = item.cloneNode(true);
                    item.parentNode.replaceChild(newItem, item);
                    
                    newItem.addEventListener('click', () => {
                        if (newItem.dataset.correct === 'true') {
                            handleCorrect();
                        } else {
                            handleIncorrect(newItem);
                        }
                    });
                });
            }
            initLevel1();
            
            // === –£–†–û–í–ï–ù–¨ 2: –ú–µ–º–æ—Ä–∏ ===
            let flippedCards = [];
            let matchedPairs = 0;
            let lockBoard = false;
            
            function initLevel2() {
                const grid = document.getElementById('memory-grid');
                grid.innerHTML = '';
                const emojis = ['üçì', 'üçì', 'üçå', 'üçå', 'üçá', 'üçá'];
                emojis.sort(() => 0.5 - Math.random());
                
                flippedCards = [];
                matchedPairs = 0;
                lockBoard = false;
                
                emojis.forEach(emoji => {
                    const card = document.createElement('div');
                    card.classList.add('clickable');
                    card.dataset.emoji = emoji;
                    card.textContent = emoji;
                    card.addEventListener('click', flipCard);
                    grid.appendChild(card);
                });
            }
            
            function flipCard() {
                if (lockBoard) return;
                if (this === flippedCards[0]) return;
                if (this.classList.contains('matched')) return;

                this.classList.add('flipped');

                if (flippedCards.length === 0) {
                    flippedCards.push(this);
                    return;
                }

                flippedCards.push(this);
                lockBoard = true;

                if (flippedCards[0].dataset.emoji === flippedCards[1].dataset.emoji) {
                    flippedCards[0].classList.add('matched');
                    flippedCards[1].classList.add('matched');
                    matchedPairs++;
                    resetBoard();
                    if (matchedPairs === 3) {
                       setTimeout(handleCorrect, 500);
                    }
                } else {
                    setTimeout(() => {
                        flippedCards[0].classList.remove('flipped');
                        flippedCards[1].classList.remove('flipped');
                        resetBoard();
                    }, 1000);
                }
            }
            
            function resetBoard() {
                flippedCards = [];
                lockBoard = false;
            }

            // === –£–†–û–í–ï–ù–¨ 3: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ ===
            let sequence = [];
            const correctSequence = ['1', '2', '3'];
            
            function initLevel3() {
                sequence = [];
                const items = document.querySelectorAll('#level-3 .clickable');
                items.forEach(item => {
                    item.style.backgroundColor = '';
                    const newItem = item.cloneNode(true);
                    item.parentNode.replaceChild(newItem, item);
                    
                    newItem.addEventListener('click', () => {
                        if (sequence.length < 3) {
                            sequence.push(newItem.dataset.order);
                            newItem.style.backgroundColor = 'rgba(255, 193, 7, 0.5)';
                            
                            if (sequence.length === 3) {
                                if (JSON.stringify(sequence) === JSON.stringify(correctSequence)) {
                                    handleCorrect();
                                } else {
                                    handleIncorrect(null);
                                    setTimeout(() => {
                                        initLevel3();
                                    }, 1000);
                                }
                            }
                        }
                    });
                });
            }

       </div>

        <div id="level-10" class="level">
            <h2>–ó–∞–ø–æ–º–Ω–∏ –∏ –ø–æ–≤—Ç–æ—Ä–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å</h2>
            <p id="rhythm-status">–°–º–æ—Ç—Ä–∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ!</p>
            <div class="items-grid">
                <button class="rhythm-button clickable" data-index="0">üî¥</button>
                <button class="rhythm-button clickable" data-index="1">üîµ</button>
                <button class="rhythm-button clickable" data-index="2">üü¢</button>
                <button class="rhythm-button clickable" data-index="3">üü°</button>
            </div>
        </div>

        <div id="level-11" class="level">
            <h2>–°–æ–µ–¥–∏–Ω–∏ –∂–∏–≤–æ—Ç–Ω—ã—Ö —Å –∏—Ö –¥–æ–º–∞–º–∏</h2>
            <div class="pair-items">
                <div class="pair-column">
                    <div class="pair-item" data-type="animal" data-id="bee">üêù –ü—á–µ–ª–∞</div>
                    <div class="pair-item" data-type="animal" data-id="bird">üê¶ –ü—Ç–∏—Ü–∞</div>
                    <div class="pair-item" data-type="animal" data-id="squirrel">üêøÔ∏è –ë–µ–ª–∫–∞</div>
                </div>
                <div class="pair-column">
                    <div class="pair-item" data-type="home" data-id="hive">üçØ –£–ª–µ–π</div>
                    <div class="pair-item" data-type="home" data-id="nest">ü™∫ –ì–Ω–µ–∑–¥–æ</div>
                    <div class="pair-item" data-type="home" data-id="hollow">üå≥ –î—É–ø–ª–æ</div>
                </div>
            </div>
        </div>

        <div id="level-12" class="level">
            <h2>–†–µ—à–∏ –ø—Ä–∏–º–µ—Ä</h2>
            <p style="font-size: 2rem; margin: 20px 0;">3 + 2 = ?</p>
            <div class="math-options items-grid">
                <div class="clickable" data-answer="4">4</div>
                <div class="clickable" data-answer="5">5</div>
                <div class="clickable" data-answer="6">6</div>
            </div>
        </div>

        <div id="level-13" class="level">
            <h2>–ü–æ–π–º–∞–π 5 –æ—Ä–µ—à–∫–æ–≤!</h2>
            <p>–ü–æ–π–º–∞–Ω—ã: <span id="caught-count">0</span> / 5</p>
            <div id="catch-game">
                <div id="basket">üß∫</div>
            </div>
        </div>

        <div id="level-14" class="level">
            <h2>–ù–∞—Ä–∏—Å—É–π –∫—Ä—É–≥ üîµ</h2>
            <div class="color-palette">
                <div class="color-button selected" style="background: red;" data-color="red"></div>
                <div class="color-button" style="background: blue;" data-color="blue"></div>
                <div class="color-button" style="background: green;" data-color="green"></div>
                <div class="color-button" style="background: yellow;" data-color="yellow"></div>
            </div>
            <canvas id="drawing-canvas" width="300" height="300"></canvas>
            <div>
                <button id="clear-canvas">–û—á–∏—Å—Ç–∏—Ç—å</button>
                <button id="check-drawing">–ì–æ—Ç–æ–≤–æ!</button>
            </div>
        </div>

        <div id="level-15" class="level">
            <h2>–ù–∞–π–¥–∏ 3 –æ—Ç–ª–∏—á–∏—è —Å–ø—Ä–∞–≤–∞</h2>
            <p>–ù–∞–π–¥–µ–Ω–æ: <span id="differences-found">0</span> / 3</p>
            <div id="differences-container">
                <div style="position: relative;">
                    <div class="difference-image">üè†</div>
                </div>
                <div style="position: relative;">
                    <div class="difference-image">üè†</div>
                    <div class="difference-spot" data-diff="1" style="top: 20px; left: 30px;"></div>
                    <div class="difference-spot" data-diff="2" style="top: 80px; left: 80px;"></div>
                    <div class="difference-spot" data-diff="3" style="top: 120px; left: 40px;"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="final-screen">
        <h1>üéâ –£—Ä–∞! –ü–æ–±–µ–¥–∞! üéâ</h1>
        <p>–¢—ã –ø–æ–º–æ–≥ –§–∏–Ω–Ω–∏–∫—É –Ω–∞–π—Ç–∏ –µ–≥–æ –í–æ–ª—à–µ–±–Ω—ã–π –ñ—ë–ª—É–¥—å!</p>
        <div style="font-size: 5rem;">üèÜüêøÔ∏èüå∞</div>
        <p style="font-size: 2rem; margin: 20px 0;">‚≠ê‚≠ê‚≠ê</p>
        <button id="restart-button">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        let currentLevel = 1;
        const totalLevels = 15;

        const startScreen = document.getElementById('start-screen');
        const gameArea = document.getElementById('game-area');
        const finalScreen = document.getElementById('final-screen');
        const startButton = document.getElementById('start-button');
        const restartButton = document.getElementById('restart-button');
        const levelNumberEl = document.getElementById('level-number');
        const messageArea = document.getElementById('message-area');
        const progressBar = document.getElementById('progress-bar');

        function startGame() {
            currentLevel = 1;
            startScreen.classList.remove('active');
            finalScreen.classList.remove('active');
            gameArea.style.display = 'block';
            showLevel(currentLevel);
        }

        function updateProgressBar() {
            const progress = ((currentLevel - 1) / totalLevels) * 100;
            progressBar.style.width = progress + '%';
            progressBar.textContent = Math.round(progress) + '%';
        }

        function showLevel(levelNum) {
            document.querySelectorAll('.level').forEach(lvl => lvl.classList.remove('active'));
            
            if (levelNum <= totalLevels) {
                const levelToShow = document.getElementById(`level-${levelNum}`);
                levelToShow.classList.add('active');
                levelNumberEl.textContent = levelNum;
                messageArea.textContent = '';
                messageArea.className = '';
                updateProgressBar();
                
                if (levelNum === 2) initLevel2();
                if (levelNum === 3) initLevel3();
                if (levelNum === 4) initLevel4();
                if (levelNum === 5) initLevel5();
                if (levelNum === 6) initLevel6();
                if (levelNum === 7) initLevel7();
                if (levelNum === 8) initLevel8();
                if (levelNum === 9) initLevel9();
                if (levelNum === 10) initLevel10();
                if (levelNum === 11) initLevel11();
                if (levelNum === 12) initLevel12();
                if (levelNum === 13) initLevel13();
                if (levelNum === 14) initLevel14();
                if (levelNum === 15) initLevel15();
            } else {
                showFinalScreen();
            }
        }
        
        function showFinalScreen() {
            gameArea.style.display = 'none';
            finalScreen.classList.add('active');
        }

        function handleCorrect() {
            messageArea.textContent = '–ü—Ä–∞–≤–∏–ª—å–Ω–æ! üéâ';
            messageArea.className = 'correct';
            setTimeout(() => {
                currentLevel++;
                showLevel(currentLevel);
            }, 1500);
        }

        function handleIncorrect(element) {
            messageArea.textContent = '–ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑! ü§î';
            messageArea.className = 'incorrect';
            if (element) {
                element.classList.add('shake');
                setTimeout(() => element.classList.remove('shake'), 500);
            }
        }

        // –£–†–û–í–ï–ù–¨ 1
        function initLevel1() {
            document.querySelectorAll('#level-1 .clickable').forEach(item => {
                const newItem = item.cloneNode(true);
                item.parentNode.replaceChild(newItem, item);
                newItem.addEventListener('click', () => {
                    if (newItem.dataset.correct === 'true') handleCorrect();
                    else handleIncorrect(newItem);
                });
            });
        }
        initLevel1();
        
        // –£–†–û–í–ï–ù–¨ 2
        let flippedCards = [], matchedPairs = 0, lockBoard = false;
        
        function initLevel2() {
            const grid = document.getElementById('memory-grid');
            grid.innerHTML = '';
            const emojis = ['üçì', 'üçì', 'üçå', 'üçå', 'üçá', 'üçá'];
            emojis.sort(() => 0.5 - Math.random());
            flippedCards = [];
            matchedPairs = 0;
            lockBoard = false;
            
            emojis.forEach(emoji => {
                const card = document.createElement('div');
                card.classList.add('clickable');
                card.dataset.emoji = emoji;
                card.textContent = emoji;
                card.addEventListener('click', flipCard);
                grid.appendChild(card);
            });
        }
        
        function flipCard() {
            if (lockBoard || this === flippedCards[0] || this.classList.contains('matched')) return;
            this.classList.add('flipped');

            if (flippedCards.length === 0) {
                flippedCards.push(this);
                return;
            }

            flippedCards.push(this);
            lockBoard = true;

            if (flippedCards[0].dataset.emoji === flippedCards[1].dataset.emoji) {
                flippedCards[0].classList.add('matched');
                flippedCards[1].classList.add('matched');
                matchedPairs++;
                flippedCards = [];
                lockBoard = false;
                if (matchedPairs === 3) setTimeout(handleCorrect, 500);
            } else {
                setTimeout(() => {
                    flippedCards[0].classList.remove('flipped');
                    flippedCards[1].classList.remove('flipped');
                    flippedCards = [];
                    lockBoard = false;
                }, 1000);
            }
        }

        // –£–†–û–í–ï–ù–¨ 3
        let sequence = [];
        const correctSequence = ['1', '2', '3'];
        
        function initLevel3() {
            sequence = [];
            document.querySelectorAll('#level-3 .clickable').forEach(item => {
                item.style.backgroundColor = '';
                const newItem = item.cloneNode(true);
                item.parentNode.replaceChild(newItem, item);
                newItem.addEventListener('click', () => {
                    if (sequence.length < 3) {
                        sequence.push(newItem.dataset.order);
                        newItem.style.backgroundColor = 'rgba(255, 193, 7, 0.5)';
                        if (sequence.length === 3) {
                            if (JSON.stringify(sequence) === JSON.stringify(correctSequence)) handleCorrect();
                            else {
                                handleIncorrect(null);
                                setTimeout(initLevel3, 1000);
                            }
                        }
                    }
                });
            });
        }

        // –£–†–û–í–ï–ù–¨ 4
        let mixedColors = new Set();
        
        function initLevel4() {
            mixedColors.clear();
            document.querySelectorAll('#level-4 .clickable').forEach(item => {
                item.style.backgroundColor = '';
                const newItem = item.cloneNode(true);
                item.parentNode.replaceChild(newItem, item);
                newItem.addEventListener('click', () => {
                    const color = newItem.dataset.color;
                    if (color === 'red') {
                        handleIncorrect(newItem);
                        return;
                    }
                    if (!mixedColors.has(color)) {
                        mixedColors.add(color);
                        newItem.style.backgroundColor = 'rgba(255, 193, 7, 0.5)';
                    }
                    if (mixedColors.has('yellow') && mixedColors.has('blue')) handleCorrect();
                });
            });
        }
        
        // –£–†–û–í–ï–ù–¨ 5
        let enteredCode = '';
        const correctCode = '123';
        const codeDisplay = document.getElementById('code-display');
        
        function initLevel5() {
            enteredCode = '';
            codeDisplay.textContent = '';
            document.querySelectorAll('#level-5 .clickable').forEach(item => {
                const newItem = item.cloneNode(true);
                item.parentNode.replaceChild(newItem, item);
                newItem.addEventListener('click', () => {
                    if (enteredCode.length < 3) {
                        enteredCode += newItem.dataset.digit;
                        codeDisplay.textContent = enteredCode;
                        if(enteredCode.length === 3) {
                            if (enteredCode === correctCode) handleCorrect();
                            else {
                                handleIncorrect(null);
                                setTimeout(initLevel5, 1000);
                            }
                        }
                    }
                });
            });
        }

        // –£–†–û–í–ï–ù–¨ 6
        function initLevel6() {
            document.querySelectorAll('#level-6 .clickable').forEach(item => {
                const newItem = item.cloneNode(true);
                item.parentNode.replaceChild(newItem, item);
                newItem.addEventListener('click', () => {
                    if (newItem.dataset.answer === '5') handleCorrect();
                    else handleIncorrect(newItem);
                });
            });
        }
// –£–†–û–í–ï–ù–¨ 7 - –õ–∞–±–∏—Ä–∏–Ω—Ç
            function initLevel7() {
                const container = document.getElementById('maze-container');
                container.innerHTML = '';
                const maze = [
                    ['üêøÔ∏è', 0, 1, 1, 1],
                    [0, 0, 1, 1, 1],
                    [1, 0, 0, 1, 1],
                    [1, 1, 0, 0, 1],
                    [1, 1, 1, 0, 'üå∞']
                ];
                
                const correctPath = [[0,0], [1,0], [1,1], [2,1], [2,2], [3,2], [3,3], [4,3], [4,4]];
                let pathIndex = 0;
                
                maze.forEach((row, i) => {
                    row.forEach((cell, j) => {
                        const div = document.createElement('div');
                        div.className = 'maze-cell';
                        if (cell === 1) div.classList.add('wall');
                        div.textContent = typeof cell === 'string' ? cell : '';
                        
                        div.addEventListener('click', () => {
                            if (cell === 1) {
                                handleIncorrect(div);
                                return;
                            }
                            
                            const expectedCell = correctPath[pathIndex];
                            if (expectedCell && expectedCell[0] === i && expectedCell[1] === j) {
                                div.classList.add('path');
                                pathIndex++;
                                if (pathIndex === correctPath.length) {
                                    setTimeout(handleCorrect, 500);
                                }
                            } else {
                                handleIncorrect(div);
                            }
                        });
                        
                        container.appendChild(div);
                    });
                });
            }

            // –£–†–û–í–ï–ù–¨ 8 - –ü–∞–∑–ª 15
            function initLevel8() {
                const container = document.getElementById('puzzle-container');
                container.innerHTML = '';
                let tiles = [1, 2, 3, 4, 5, 6, 7, 8, 0];
                
                // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º
                for (let i = 0; i < 50; i++) {
                    const emptyIndex = tiles.indexOf(0);
                    const moves = [];
                    if (emptyIndex % 3 > 0) moves.push(emptyIndex - 1); // –≤–ª–µ–≤–æ
                    if (emptyIndex % 3 < 2) moves.push(emptyIndex + 1); // –≤–ø—Ä–∞–≤–æ
                    if (emptyIndex >= 3) moves.push(emptyIndex - 3); // –≤–≤–µ—Ä—Ö
                    if (emptyIndex < 6) moves.push(emptyIndex + 3); // –≤–Ω–∏–∑
                    const randomMove = moves[Math.floor(Math.random() * moves.length)];
                    [tiles[emptyIndex], tiles[randomMove]] = [tiles[randomMove], tiles[emptyIndex]];
                }
                
                function render() {
                    container.innerHTML = '';
                    tiles.forEach((num, index) => {
                        const div = document.createElement('div');
                        div.className = 'puzzle-piece';
                        if (num === 0) {
                            div.classList.add('empty');
                            div.textContent = '';
                        } else {
                            div.textContent = num;
                        }
                        
                        div.addEventListener('click', () => {
                            const emptyIndex = tiles.indexOf(0);
                            const canMove = 
                                (index === emptyIndex - 1 && emptyIndex % 3 !== 0) ||
                                (index === emptyIndex + 1 && index % 3 !== 0) ||
                                (index === emptyIndex - 3) ||
                                (index === emptyIndex + 3);
                            
                            if (canMove) {
                                [tiles[emptyIndex], tiles[index]] = [tiles[index], tiles[emptyIndex]];
                                render();
                                
                                if (tiles.join('') === '123456780') {
                                    setTimeout(handleCorrect, 500);
                                }
                            }
                        });
                        
                        container.appendChild(div);
                    });
                }
                render();
            }

            // –£–†–û–í–ï–ù–¨ 9
            function initLevel9() {
                document.querySelectorAll('#level-9 .clickable').forEach(item => {
                    const newItem = item.cloneNode(true);
                    item.parentNode.replaceChild(newItem, item);
                    newItem.addEventListener('click', () => {
                        if (newItem.dataset.correct === 'true') handleCorrect();
                        else handleIncorrect(newItem);
                    });
                });
            }

            // –£–†–û–í–ï–ù–¨ 10 - –ü–æ–≤—Ç–æ—Ä–∏ —Ä–∏—Ç–º
            function initLevel10() {
                const buttons = document.querySelectorAll('#level-10 .rhythm-button');
                const statusEl = document.getElementById('rhythm-status');
                let sequence = [];
                let playerSequence = [];
                let isPlaying = false;
                
                function generateSequence() {
                    sequence = [];
                    for (let i = 0; i < 4; i++) {
                        sequence.push(Math.floor(Math.random() * 4));
                    }
                }
                
                async function playSequence() {
                    isPlaying = true;
                    statusEl.textContent = '–°–º–æ—Ç—Ä–∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ!';
                    
                    for (let i = 0; i < sequence.length; i++) {
                        await new Promise(resolve => setTimeout(resolve, 500));
                        buttons[sequence[i]].classList.add('active-pulse');
                        await new Promise(resolve => setTimeout(resolve, 500));
                        buttons[sequence[i]].classList.remove('active-pulse');
                    }
                    
                    isPlaying = false;
                    statusEl.textContent = '–¢–≤–æ—è –æ—á–µ—Ä–µ–¥—å!';
                }
                
                buttons.forEach((btn, index) => {
                    const newBtn = btn.cloneNode(true);
                    btn.parentNode.replaceChild(newBtn, btn);
                    
                    newBtn.addEventListener('click', () => {
                        if (isPlaying) return;
                        
                        newBtn.classList.add('active-pulse');
                        setTimeout(() => newBtn.classList.remove('active-pulse'), 300);
                        
                        playerSequence.push(parseInt(newBtn.dataset.index));
                        
                        if (playerSequence[playerSequence.length - 1] !== sequence[playerSequence.length - 1]) {
                            handleIncorrect(null);
                            playerSequence = [];
                            statusEl.textContent = '–ü–æ–ø—Ä–æ–±—É–π —Å–Ω–æ–≤–∞!';
                            setTimeout(() => playSequence(), 1000);
                        } else if (playerSequence.length === sequence.length) {
                            handleCorrect();
                        }
                    });
                });
                
                generateSequence();
                setTimeout(() => playSequence(), 500);
            }

            // –£–†–û–í–ï–ù–¨ 11 - –°–æ–µ–¥–∏–Ω–∏ –ø–∞—Ä—ã
            function initLevel11() {
                const pairs = {
                    'bee': 'hive',
                    'bird': 'nest',
                    'squirrel': 'hollow'
                };
                
                let selectedAnimal = null;
                let matchedCount = 0;
                
                document.querySelectorAll('#level-11 .pair-item').forEach(item => {
                    item.classList.remove('selected', 'matched');
                    const newItem = item.cloneNode(true);
                    item.parentNode.replaceChild(newItem, item);
                    
                    newItem.addEventListener('click', () => {
                        if (newItem.classList.contains('matched')) return;
                        
                        if (newItem.dataset.type === 'animal') {
                            document.querySelectorAll('#level-11 .pair-item[data-type="animal"]').forEach(el => 
                                el.classList.remove('selected'));
                            newItem.classList.add('selected');
                            selectedAnimal = newItem.dataset.id;
                        } else if (newItem.dataset.type === 'home' && selectedAnimal) {
                            if (pairs[selectedAnimal] === newItem.dataset.id) {
                                const animalEl = document.querySelector(`#level-11 .pair-item[data-id="${selectedAnimal}"]`);
                                animalEl.classList.add('matched');
                                animalEl.classList.remove('selected');
                                newItem.classList.add('matched');
                                matchedCount++;
                                selectedAnimal = null;
                                
                                if (matchedCount === 3) {
                                    setTimeout(handleCorrect, 500);
                                }
                            } else {
                                handleIncorrect(newItem);
                            }
                        }
                    });
                });
            }

            // –£–†–û–í–ï–ù–¨ 12
            function initLevel12() {
                document.querySelectorAll('#level-12 .clickable').forEach(item => {
                    const newItem = item.cloneNode(true);
                    item.parentNode.replaceChild(newItem, item);
                    newItem.addEventListener('click', () => {
                        if (newItem.dataset.answer === '5') handleCorrect();
                        else handleIncorrect(newItem);
                    });
                });
            }

            // –£–†–û–í–ï–ù–¨ 13 - –ü–æ–π–º–∞–π –ø—Ä–µ–¥–º–µ—Ç—ã
            function initLevel13() {
                const game = document.getElementById('catch-game');
                const basket = document.getElementById('basket');
                const countEl = document.getElementById('caught-count');
                let caughtCount = 0;
                let basketX = game.offsetWidth / 2 - 30;
                basket.style.left = basketX + 'px';
                
                game.addEventListener('mousemove', (e) => {
                    const rect = game.getBoundingClientRect();
                    basketX = e.clientX - rect.left - 30;
                    basketX = Math.max(0, Math.min(basketX, game.offsetWidth - 60));
                    basket.style.left = basketX + 'px';
                });
                
                game.addEventListener('touchmove', (e) => {
                    e.preventDefault();
                    const rect = game.getBoundingClientRect();
                    const touch = e.touches[0];
                    basketX = touch.clientX - rect.left - 30;
                    basketX = Math.max(0, Math.min(basketX, game.offsetWidth - 60));
                    basket.style.left = basketX + 'px';
                });
                
                function dropItem() {
                    if (caughtCount >= 5) return;
                    
                    const item = document.createElement('div');
                    item.className = 'falling-item';
                    item.textContent = 'üå∞';
                    item.style.left = Math.random() * (game.offsetWidth - 50) + 'px';
                    item.style.top = '-50px';
                    game.appendChild(item);
                    
                    let top = -50;
                    const interval = setInterval(() => {
                        top += 5;
                        item.style.top = top + 'px';
                        
                        const itemRect = item.getBoundingClientRect();
                        const basketRect = basket.getBoundingClientRect();
                        
                        if (itemRect.bottom >= basketRect.top &&
                            itemRect.left < basketRect.right &&
                            itemRect.right > basketRect.left) {
                            clearInterval(interval);
                            item.remove();
                            caughtCount++;
                            countEl.textContent = caughtCount;
                            if (caughtCount === 5) {
                                setTimeout(handleCorrect, 500);
                            }
                        }
                        
                        if (top > game.offsetHeight) {
                            clearInterval(interval);
                            item.remove();
                        }
                    }, 50);
                }
                
                const dropInterval = setInterval(() => {
                    if (caughtCount >= 5) {
                        clearInterval(dropInterval);
                    } else {
                        dropItem();
                    }
                }, 1500);
            }

            // –£–†–û–í–ï–ù–¨ 14 - –†–∏—Å–æ–≤–∞–Ω–∏–µ
            function initLevel14() {
                const canvas = document.getElementById('drawing-canvas');
                const ctx = canvas.getContext('2d');
                const clearBtn = document.getElementById('clear-canvas');
                const checkBtn = document.getElementById('check-drawing');
                let isDrawing = false;
                let currentColor = 'red';
                
                ctx.fillStyle = 'white';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                document.querySelectorAll('.color-button').forEach(btn => {
                    const newBtn = btn.cloneNode(true);
                    btn.parentNode.replaceChild(newBtn, btn);
                    
                    newBtn.addEventListener('click', () => {
                        document.querySelectorAll('.color-button').forEach(b => b.classList.remove('selected'));
                        newBtn.classList.add('selected');
                        currentColor = newBtn.dataset.color;
                    });
                });
                
                function startDrawing(e) {
                    isDrawing = true;
                    draw(e);
                }
                
                function stopDrawing() {
                    isDrawing = false;
                    ctx.beginPath();
                }
                
                function draw(e) {
                    if (!isDrawing) return;
                    
                    const rect = canvas.getBoundingClientRect();
                    const x = (e.clientX || e.touches[0].clientX) - rect.left;
                    const y = (e.clientY || e.touches[0].clientY) - rect.top;
                    
                    ctx.lineWidth = 10;
                    ctx.lineCap = 'round';
                    ctx.strokeStyle = currentColor;
                    
                    ctx.lineTo(x, y);
                    ctx.stroke();
                    ctx.beginPath();
                    ctx.moveTo(x, y);
                }
                
                canvas.addEventListener('mousedown', startDrawing);
                canvas.addEventListener('mouseup', stopDrawing);
                canvas.addEventListener('mousemove', draw);
                canvas.addEventListener('touchstart', (e) => { e.preventDefault(); startDrawing(e); });
                canvas.addEventListener('touchend', stopDrawing);
                canvas.addEventListener('touchmove', (e) => { e.preventDefault(); draw(e); });
                
                clearBtn.addEventListener('click', () => {
                    ctx.fillStyle = 'white';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                });
                
                checkBtn.addEventListener('click', () => {
                    const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                    let hasDrawing = false;
                    
                    for (let i = 0; i < imageData.data.length; i += 4) {
                        const r = imageData.data[i];
                        const g = imageData.data[i + 1];
                        const b = imageData.data[i + 2];
                        if (r < 250 || g < 250 || b < 250) {
                            hasDrawing = true;
                            break;
                        }
                    }
                    
                    if (hasDrawing) {
                        handleCorrect();
                    } else {
                        handleIncorrect(null);
                        messageArea.textContent = '–ù–∞—Ä–∏—Å—É–π —á—Ç–æ-–Ω–∏–±—É–¥—å! üé®';
                    }
                });
            }

            // –£–†–û–í–ï–ù–¨ 15 - –ù–∞–π–¥–∏ –æ—Ç–ª–∏—á–∏—è
            function initLevel15() {
                const countEl = document.getElementById('differences-found');
                let foundCount = 0;
                
                document.querySelectorAll('.difference-spot').forEach(spot => {
                    spot.classList.remove('found');
                    const newSpot = spot.cloneNode(true);
                    spot.parentNode.replaceChild(newSpot, spot);
                    
                    newSpot.addEventListener('click', () => {
                        if (newSpot.classList.contains('found')) return;
                        
                        newSpot.classList.add('found');
                        foundCount++;
                        countEl.textContent = foundCount;
                        
                        if (foundCount === 3) {
                            setTimeout(handleCorrect, 500);
                        }
                    });
                });
            }

            startButton.addEventListener('click', startGame);
            restartButton.addEventListener('click', startGame);
        });
    </script>

</body>
</html>     
