<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ë–∞–ª–∞–Ω—Å - –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –ò–≥—Ä–∞</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; display: flex; justify-content: center; align-items: center; padding: 20px; }
        .container { background: white; border-radius: 20px; padding: 40px; max-width: 800px; width: 100%; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
        h1 { color: #667eea; text-align: center; margin-bottom: 10px; }
        .subtitle { text-align: center; color: #666; margin-bottom: 30px; }
        .progress-bar { width: 100%; height: 10px; background: #e0e0e0; border-radius: 5px; overflow: hidden; margin-bottom: 30px; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, #667eea 0%, #764ba2 100%); width: 0%; transition: width 0.5s ease; }
        .level-info { text-align: center; margin-bottom: 20px; font-size: 18px; color: #333; }
        .game-area { min-height: 400px; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .btn { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 15px 40px; font-size: 18px; border-radius: 30px; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; margin: 10px; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3); }
        .reaction-circle { width: 150px; height: 150px; border-radius: 50%; background: #ff6b6b; display: flex; align-items: center; justify-content: center; font-size: 24px; color: white; cursor: pointer; transition: all 0.3s; margin: 20px; }
        .reaction-circle.active { background: #51cf66; transform: scale(1.1); }
        .pattern-grid { display: grid; grid-template-columns: repeat(3, 100px); gap: 10px; margin: 20px auto; }
        .pattern-cell { width: 100px; height: 100px; background: #e9ecef; border-radius: 10px; cursor: pointer; transition: all 0.3s; }
        .pattern-cell.highlight { background: #667eea; transform: scale(1.05); }
        .pattern-cell.selected { background: #51cf66; }
        .stroop-word { font-size: 48px; font-weight: bold; margin: 30px; }
        .color-buttons { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
        .color-btn { width: 100px; height: 50px; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; color: white; transition: transform 0.2s; }
        .color-btn:hover { transform: scale(1.1); }
        .breathing-circle { width: 200px; height: 200px; border-radius: 50%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; transition: all 4s ease-in-out; }
        .breathing-circle.inhale { transform: scale(1.5); }
        .breathing-circle.exhale { transform: scale(1); }
        .multitask-area { display: flex; flex-direction: column; gap: 20px; width: 100%; }
        .task-input { padding: 15px; font-size: 18px; border: 2px solid #667eea; border-radius: 10px; text-align: center; width: 100%; }
        .balance-container { position: relative; width: 300px; height: 300px; margin: 20px auto; border: 2px solid #dee2e6; border-radius: 10px; }
        .balance-ball { width: 40px; height: 40px; border-radius: 50%; background: #667eea; position: absolute; top: 130px; left: 130px; }
        .balance-target { width: 60px; height: 60px; border: 3px dashed #51cf66; border-radius: 50%; position: absolute; top: 120px; left: 120px; }
        .task-list { display: flex; flex-direction: column; gap: 10px; margin: 20px 0; }
        .task-item { padding: 15px; background: #f8f9fa; border-radius: 10px; cursor: move; border-left: 4px solid #667eea; transition: transform 0.2s; }
        .task-item:hover { transform: translateX(5px); }
        .task-item.dragging { opacity: 0.5; }
        .focus-grid { display: grid; grid-template-columns: repeat(5, 60px); gap: 10px; margin: 20px auto; }
        .focus-cell { width: 60px; height: 60px; background: #e9ecef; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 24px; cursor: pointer; transition: all 0.2s; }
        .focus-cell:hover { background: #dee2e6; }
        .focus-cell.target { background: #51cf66; }
        .emotion-face { font-size: 120px; margin: 30px; }
        .emotion-buttons { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
        .decision-scenario { background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0; text-align: left; }
        .decision-options { display: flex; flex-direction: column; gap: 10px; margin-top: 20px; }
        .decision-option { padding: 15px; background: white; border: 2px solid #dee2e6; border-radius: 10px; cursor: pointer; transition: all 0.3s; text-align: left; }
        .decision-option:hover { border-color: #667eea; transform: translateX(5px); }
        .result-card { background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 15px 0; text-align: left; }
        .result-score { font-size: 48px; font-weight: bold; color: #667eea; margin: 20px 0; text-align: center; }
        .metric { display: flex; justify-content: space-between; align-items: center; margin: 10px 0; padding: 10px; background: white; border-radius: 5px; }
        .metric-bar { width: 50%; height: 10px; background: #e9ecef; border-radius: 5px; overflow: hidden; margin: 0 10px; }
        .metric-fill { height: 100%; transition: width 1s ease; }
        .recommendation { background: #fff3cd; padding: 15px; border-radius: 10px; margin: 10px 0; border-left: 4px solid #ffc107; }
        .timer { font-size: 24px; font-weight: bold; color: #667eea; margin: 10px 0; }
        .instruction { background: #e7f5ff; padding: 15px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #339af0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß† –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ë–∞–ª–∞–Ω—Å</h1>
        <p class="subtitle">–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –∏–≥—Ä–∞ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –≤–∞—à–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è</p>
        <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
        <div class="level-info" id="levelInfo">–ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å?</div>
        <div class="game-area" id="gameArea"></div>
    </div>
    <script>
        class PsychGame {
            constructor() {
                this.currentLevel = 0;
                this.totalLevels = 10;
                this.scores = { stress: 0, focus: 0, patience: 0, cognitive: 0, emotional: 0, burnout: 0, anxiety: 0, impulsivity: 0 };
                this.levelData = [];
                this.gameArea = document.getElementById('gameArea');
                this.levelInfo = document.getElementById('levelInfo');
                this.progressFill = document.getElementById('progressFill');
                this.init();
            }
            init() { this.showStartScreen(); }
            showStartScreen() {
                this.gameArea.innerHTML = `<div class="start-screen"><h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2><p style="margin: 20px 0; line-height: 1.6;">–≠—Ç–∞ –∏–≥—Ä–∞ –ø–æ–º–æ–∂–µ—Ç –æ—Ü–µ–Ω–∏—Ç—å –≤–∞—à–µ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ—Ä–µ–∑ —Å–µ—Ä–∏—é –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π.<br><br>–í—ã –ø—Ä–æ–π–¥–µ—Ç–µ 10 —É—Ä–æ–≤–Ω–µ–π, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –∏—Å—Å–ª–µ–¥—É–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã –≤–∞—à–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.<br><br>–ò–≥—Ä–∞–π—Ç–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –∏ –Ω–µ –¥—É–º–∞–π—Ç–µ –æ "–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö" –æ—Ç–≤–µ—Ç–∞—Ö.</p><button class="btn" onclick="game.startGame()">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button></div>`;
            }
            startGame() { this.currentLevel = 1; this.loadLevel(1); }
            updateProgress() { this.progressFill.style.width = ((this.currentLevel / this.totalLevels) * 100) + '%'; this.levelInfo.textContent = `–£—Ä–æ–≤–µ–Ω—å ${this.currentLevel} –∏–∑ ${this.totalLevels}`; }
            loadLevel(level) { this.updateProgress(); switch(level) { case 1: this.level1_ReactionTime(); break; case 2: this.level2_PatternMemory(); break; case 3: this.level3_ColorStroop(); break; case 4: this.level4_Breathing(); break; case 5: this.level5_Multitasking(); break; case 6: this.level6_Balance(); break; case 7: this.level7_Priority(); break; case 8: this.level8_Focus(); break; case 9: this.level9_EmotionRecognition(); break; case 10: this.level10_DecisionMaking(); break; } }
            level1_ReactionTime() {
                let attempts = 0, reactionTimes = [], maxAttempts = 5;
                const startAttempt = () => {
                    if (attempts >= maxAttempts) {
                        const avgTime = reactionTimes.reduce((a, b) => a + b, 0) / reactionTimes.length;
                        if (avgTime < 250) { this.scores.stress += 3; this.scores.anxiety += 2; } else if (avgTime > 500) { this.scores.burnout += 2; this.scores.focus -= 1; } else { this.scores.focus += 2; }
                        this.levelData.push({ level: 1, metric: '–í—Ä–µ–º—è —Ä–µ–∞–∫—Ü–∏–∏', value: avgTime, times: reactionTimes });
                        this.nextLevel();
                        return;
                    }
                    this.gameArea.innerHTML = `<div class="instruction"><strong>–£—Ä–æ–≤–µ–Ω—å 1: –°–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∞–∫—Ü–∏–∏</strong><br>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫—Ä—É–≥, –∫–æ–≥–¥–∞ –æ–Ω —Å—Ç–∞–Ω–µ—Ç –∑–µ–ª–µ–Ω—ã–º</div><div class="timer">–ü–æ–ø—ã—Ç–∫–∞ ${attempts + 1} –∏–∑ ${maxAttempts}</div><div class="reaction-circle" id="reactionCircle">–ñ–¥–∏—Ç–µ...</div>`;
                    const circle = document.getElementById('reactionCircle');
                    let startTime;
                    setTimeout(() => {
                        circle.classList.add('active');
                        circle.textContent = '–ù–ê–ñ–ú–ò!';
                        startTime = Date.now();
                        circle.onclick = () => {
                            const reactionTime = Date.now() - startTime;
                            reactionTimes.push(reactionTime);
                            attempts++;
                            circle.textContent = `${reactionTime} –º—Å`;
                            setTimeout(() => startAttempt(), 1000);
                        };
                    }, 2000 + Math.random() * 3000);
                };
                startAttempt();
            }
            level2_PatternMemory() {
                const pattern = [], patternLength = 5;
                let playerPattern = [], showingPattern = true;
                for (let i = 0; i < patternLength; i++) pattern.push(Math.floor(Math.random() * 9));
                this.gameArea.innerHTML = `<div class="instruction"><strong>–£—Ä–æ–≤–µ–Ω—å 2: –ü–∞–º—è—Ç—å –Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å</strong><br>–ó–∞–ø–æ–º–Ω–∏—Ç–µ –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å</div><div class="timer" id="patternTimer">–°–º–æ—Ç—Ä–∏—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ...</div><div class="pattern-grid" id="patternGrid"></div>`;
                const grid = document.getElementById('patternGrid'), timer = document.getElementById('patternTimer');
                for (let i = 0; i < 9; i++) { const cell = document.createElement('div'); cell.className = 'pattern-cell'; cell.dataset.index = i; grid.appendChild(cell); }
                let step = 0;
                const showPattern = setInterval(() => {
                    if (step >= pattern.length) {
                        clearInterval(showPattern);
                        showingPattern = false;
                        timer.textContent = '–¢–µ–ø–µ—Ä—å –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ!';
                        document.querySelectorAll('.pattern-cell').forEach(cell => {
                            cell.onclick = () => {
                                if (showingPattern) return;
                                playerPattern.push(parseInt(cell.dataset.index));
                                cell.classList.add('selected');
                                if (playerPattern.length === pattern.length) {
                                    let correct = 0;
                                    for (let i = 0; i < pattern.length; i++) if (pattern[i] === playerPattern[i]) correct++;
                                    const accuracy = correct / pattern.length;
                                    if (accuracy >= 0.8) { this.scores.cognitive += 2; this.scores.focus += 2; } else if (accuracy < 0.5) { this.scores.stress += 2; this.scores.burnout += 1; }
                                    this.levelData.push({ level: 2, metric: '–¢–æ—á–Ω–æ—Å—Ç—å –ø–∞–º—è—Ç–∏', value: accuracy, correct: correct, total: pattern.length });
                                    setTimeout(() => this.nextLevel(), 1500);
                                }
                            };
                        });
                        return;
                    }
                    const cells = document.querySelectorAll('.pattern-cell');
                    cells[pattern[step]].classList.add('highlight');
                    setTimeout(() => cells[pattern[step]].classList.remove('highlight'), 500);
                    step++;
                }, 800);
            }
            level3_ColorStroop() {
                const colors = ['–ö—Ä–∞—Å–Ω—ã–π', '–°–∏–Ω–∏–π', '–ó–µ–ª–µ–Ω—ã–π', '–ñ–µ–ª—Ç—ã–π', '–§–∏–æ–ª–µ—Ç–æ–≤—ã–π'];
                const colorCodes = { '–ö—Ä–∞—Å–Ω—ã–π': '#ff6b6b', '–°–∏–Ω–∏–π': '#339af0', '–ó–µ–ª–µ–Ω—ã–π': '#51cf66', '–ñ–µ–ª—Ç—ã–π': '#ffd43b', '–§–∏–æ–ª–µ—Ç–æ–≤—ã–π': '#845ef7' };
                let round = 0, maxRounds = 7, correctAnswers = 0, responseTimes = [];
                const startRound = () => {
                    if (round >= maxRounds) {
                        const accuracy = correctAnswers / maxRounds, avgTime = responseTimes.reduce((a, b) => a + b, 0) / responseTimes.length;
                        if (accuracy < 0.6 || avgTime > 3000) { this.scores.stress += 2; this.scores.cognitive -= 1; } else if (accuracy >= 0.8 && avgTime < 2000) { this.scores.cognitive += 2; this.scores.focus += 1; }
                        this.levelData.push({ level: 3, metric: '–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å', accuracy: accuracy, avgTime: avgTime });
                        this.nextLevel();
                        return;
                    }
                    const wordColor = colors[Math.floor(Math.random() * colors.length)], displayColor = colors[Math.floor(Math.random() * colors.length)], startTime = Date.now();
                    this.gameArea.innerHTML = `<div class="instruction"><strong>–£—Ä–æ–≤–µ–Ω—å 3: –¢–µ—Å—Ç –°—Ç—Ä—É–ø–∞</strong><br>–í—ã–±–µ—Ä–∏—Ç–µ –¶–í–ï–¢ —Ç–µ–∫—Å—Ç–∞, –∞ –Ω–µ —Ç–æ, —á—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–æ</div><div class="timer">–†–∞—É–Ω–¥ ${round + 1} –∏–∑ ${maxRounds}</div><div class="stroop-word" style="color: ${colorCodes[displayColor]}">${wordColor}</div><div class="color-buttons" id="colorButtons"></div>`;
                    const buttonsContainer = document.getElementById('colorButtons');
                    colors.forEach(color => {
                        const btn = document.createElement('button');
                        btn.className = 'color-btn';
                        btn.textContent = color;
                        btn.style.backgroundColor = colorCodes[color];
                        btn.onclick = () => {
                            responseTimes.push(Date.now() - startTime);
                            if (color === displayColor) correctAnswers++;
                            round++;
                            setTimeout(() => startRound(), 500);
                        };
                        buttonsContainer.appendChild(btn);
                    });
                };
                startRound();
            }
            level4_Breathing() {
                let cycles = 0, maxCycles = 3, clickedDuringExercise = 0;
                this.gameArea.innerHTML = `<div class="instruction"><strong>–£—Ä–æ–≤–µ–Ω—å 4: –î—ã—Ö–∞—Ç–µ–ª—å–Ω–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</strong><br>–°–ª–µ–¥—É–π—Ç–µ –∑–∞ –∫—Ä—É–≥–æ–º: –æ–Ω —Ä–∞—Å—Ç–µ—Ç - –≤–¥–æ—Ö, —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è - –≤—ã–¥–æ—Ö<br><small>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫—Ä—É–≥, –∫–æ–≥–¥–∞ –ø–æ—á—É–≤—Å—Ç–≤—É–µ—Ç–µ –∂–µ–ª–∞–Ω–∏–µ –ø—Ä–µ—Ä–≤–∞—Ç—å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</small></div><div class="timer" id="breathTimer">–ü—Ä–∏–≥–æ—Ç–æ–≤—å—Ç–µ—Å—å...</div><div class="breathing-circle" id="breathCircle">–î—ã—à–∏—Ç–µ</div>`;
                const circle = document.getElementById('breathCircle'), timer = document.getElementById('breathTimer');
                circle.onclick = () => clickedDuringExercise++;
                const doCycle = () => {
                    if (cycles >= maxCycles) {
                        const patience = clickedDuringExercise === 0 ? 3 : Math.max(0, 3 - clickedDuringExercise);
                        this.scores.patience += patience;
                        this.scores.stress -= patience;
                        this.scores.anxiety -= Math.min(2, patience);
                        if (clickedDuringExercise > 3) this.scores.impulsivity += 2;
                        this.levelData.push({ level: 4, metric: '–°–∞–º–æ—Ä–µ–≥—É–ª—è—Ü–∏—è', patience: patience, interruptions: clickedDuringExercise });
                        this.nextLevel();
                        return;
                    }
                    cycles++;
                    timer.textContent = `–¶–∏–∫–ª ${cycles} –∏–∑ ${maxCycles}`;
                    circle.classList.remove('exhale');
                    circle.classList.add('inhale');
                    circle.textContent = '–í–¥–æ—Ö...';
                    setTimeout(() => {
                        circle.classList.remove('inhale');
                        circle.classList.add('exhale');
                        circle.textContent = '–í—ã–¥–æ—Ö...';
                        setTimeout(() => doCycle(), 4000);
                    }, 4000);
                };
                setTimeout(() => doCycle(), 1000);
            }
            level5_Multitasking() {
                let mathScore = 0, typingScore = 0, mathAttempts = 0, duration = 30000;
                let currentNum1 = Math.floor(Math.random() * 20) + 1, currentNum2 = Math.floor(Math.random() * 20) + 1, currentAnswer = currentNum1 + currentNum2;
                const words = ['—Ñ–æ–∫—É—Å', '–±–∞–ª–∞–Ω—Å', '–≥–∞—Ä–º–æ–Ω–∏—è', '—Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ', '—ç–Ω–µ—Ä–≥–∏—è'], targetWord = words[Math.floor(Math.random() * words.length)];
                this.gameArea.innerHTML = `<div class="instruction"><strong>–£—Ä–æ–≤–µ–Ω—å 5: –ú–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å</strong><br>–†–µ—à–∞–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –ò –ø–µ—á–∞—Ç–∞–π—Ç–µ —Å–ª–æ–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ!</div><div class="timer" id="multiTimer">30 —Å–µ–∫—É–Ω–¥</div><div class="multitask-area"><div><h3>–ó–∞–¥–∞—á–∞ 1: –†–µ—à–∏—Ç–µ –ø—Ä–∏–º–µ—Ä</h3><div id="mathProblem" style="font-size: 24px; margin: 10px 0;">${currentNum1} + ${currentNum2} = ?</div><input type="number" class="task-input" id="mathInput" placeholder="–í–∞—à –æ—Ç–≤–µ—Ç"></div><div><h3>–ó–∞–¥–∞—á–∞ 2: –ù–∞–ø–µ—á–∞—Ç–∞–π—Ç–µ —Å–ª–æ–≤–æ</h3><div style="font-size: 24px; margin: 10px 0; color: #667eea;">${targetWord}</div><input type="text" class="task-input" id="typingInput" placeholder="–ü–µ—á–∞—Ç–∞–π—Ç–µ –∑–¥–µ—Å—å"></div></div>`;
                const mathInput = document.getElementById('mathInput'), typingInput = document.getElementById('typingInput'), timer = document.getElementById('multiTimer'), mathProblem = document.getElementById('mathProblem'), startTime = Date.now();
                const updateTimer = setInterval(() => {
                    const timeRemaining = duration - (Date.now() - startTime);
                    if (timeRemaining <= 0) { clearInterval(updateTimer); finishLevel(); } else { timer.textContent = `${Math.ceil(timeRemaining / 1000)} —Å–µ–∫—É–Ω–¥`; }
                }, 100);
                mathInput.addEventListener('keyup', (e) => {
                    if (e.key === 'Enter' || mathInput.value == currentAnswer) {
                        if (mathInput.value == currentAnswer) {
                            mathScore++;
                            mathAttempts++;
                            currentNum1 = Math.floor(Math.random() * 20) + 1;
                            currentNum2 = Math.floor(Math.random() * 20) + 1;
                            currentAnswer = currentNum1 + currentNum2;
                            mathProblem.textContent = `${currentNum1} + ${currentNum2} = ?`;
                            mathInput.value = '';
                        } else mathAttempts++;
                    }
                });
                typingInput.addEventListener('input', () => {
                    if (typingInput.value.toLowerCase() === targetWord.toLowerCase()) { typingScore++; typingInput.value = ''; }
                });
                const finishLevel = () => {
                    clearInterval(updateTimer);
                    const totalScore = mathScore + typingScore;
                    if (totalScore < 5) { this.scores.stress += 3; this.scores.cognitive -= 2; } else if (totalScore >= 10) { this.scores.cognitive += 3; this.scores.focus += 2; } else this.scores.cognitive += 1;
                    this.levelData.push({ level: 5, metric: '–ú–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å', mathScore: mathScore, typingScore: typingScore, totalScore: totalScore });
                    this.nextLevel();
                };
            }
            level6_Balance() {
                let ballX = 130, ballY = 130, movements = 0, duration = 20000;
                this.gameArea.innerHTML = `<div class="instruction"><strong>–£—Ä–æ–≤–µ–Ω—å 6: –ö–æ–Ω—Ç—Ä–æ–ª—å –∏ –±–∞–ª–∞–Ω—Å</strong><br>–£–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ —à–∞—Ä–∏–∫ –≤ —Ü–µ–Ω—Ç—Ä–µ –∫—Ä—É–≥–∞, –¥–≤–∏–≥–∞—è –º—ã—à—å—é</div><div class="timer" id="balanceTimer">20 —Å–µ–∫—É–Ω–¥</div><div class="timer" id="balanceScore">–¢–æ—á–Ω–æ—Å—Ç—å: 0%</div><div class="balance-container" id="balanceContainer"><div class="balance-target"></div><div class="balance-ball" id="balanceBall"></div></div>`;
                const container = document.getElementById('balanceContainer'), ball = document.getElementById('balanceBall'), timer = document.getElementById('balanceTimer'), scoreDisplay = document.getElementById('balanceScore'), startTime = Date.now();
                let inTarget = 0, totalTime = 0;
                container.addEventListener('mousemove', (e) => {
                    const rect = container.getBoundingClientRect();
                    ballX = Math.max(0, Math.min(260, e.clientX - rect.left - 20));
                    ballY = Math.max(0, Math.min(260, e.clientY - rect.top - 20));
                    ball.style.left = ballX + 'px';
                    ball.style.top = ballY + 'px';
                    movements++;
                });
                const checkInterval = setInterval(() => {
                    const distance = Math.sqrt(Math.pow(ballX - 120, 2) + Math.pow(ballY - 120, 2));
                    if (distance < 30) inTarget++;
                    totalTime++;
                    scoreDisplay.textContent = `–¢–æ—á–Ω–æ—Å—Ç—å: ${Math.round((inTarget / totalTime) * 100)}%`;
                    const timeRemaining = duration - (Date.now() - startTime);
                    if (timeRemaining <= 0) {
                        clearInterval(checkInterval);
                        const accuracy = (inTarget / totalTime) * 100;
                        if (accuracy < 30) { this.scores.stress += 2; this.scores.focus -= 1; } else if (accuracy >= 60) { this.scores.focus += 2; this.scores.patience += 1; }
                        if (movements / (duration / 1000) > 50) this.scores.anxiety += 1;
                        this.levelData.push({ level: 6, metric: '–ú–æ—Ç–æ—Ä–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å', accuracy: accuracy, movements: movements });
                        this.nextLevel();
                    } else timer.textContent = `${Math.ceil(timeRemaining / 1000)} —Å–µ–∫—É–Ω–¥`;
                }, 100);
            }
            level7_Priority() {
                const tasks = [
                    { id: 1, text: '–°—Ä–æ—á–Ω—ã–π –∑–≤–æ–Ω–æ–∫ –∫–ª–∏–µ–Ω—Ç—É', priority: 1 },
                    { id: 2, text: '–ü—Ä–æ—á–∏—Ç–∞—Ç—å —Å—Ç–∞—Ç—å—é', priority: 4 },
                    { id: 3, text: '–û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–∞–∂–Ω–æ–µ –ø–∏—Å—å–º–æ', priority: 2 },
                    { id: 4, text: '–ö—É–ø–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã', priority: 3 },
                    { id: 5, text: '–°–¥–µ–ª–∞—Ç—å –æ—Ç—á–µ—Ç –¥–æ –∫–æ–Ω—Ü–∞ –¥–Ω—è', priority: 1 }
                ].sort(() => Math.random() - 0.5);
                let draggedElement = null;
                const startTime = Date.now();
                this.gameArea.innerHTML = `<div class="instruction"><strong>–£—Ä–æ–≤–µ–Ω—å 7: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏</strong><br>–†–∞—Å–ø–æ–ª–æ–∂–∏—Ç–µ –∑–∞–¥–∞—á–∏ –≤ –ø–æ—Ä—è–¥–∫–µ –≤–∞–∂–Ω–æ—Å—Ç–∏ (—Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑)</div><div class="task-list" id="taskList"></div><button class="btn" onclick="game.checkPriorities()">–ì–æ—Ç–æ–≤–æ</button>`;
                const taskList = document.getElementById('taskList');
                tasks.forEach((task, index) => {
                    const taskItem = document.createElement('div');
                    taskItem.className = 'task-item';
                    taskItem.draggable = true;
                    taskItem.dataset.id = task.id;
                    taskItem.dataset.priority = task.priority;
                    taskItem.textContent = `${index + 1}. ${task.text}`;
                    taskItem.addEventListener('dragstart', () => { draggedElement = taskItem; taskItem.classList.add('dragging'); });
                    taskItem.addEventListener('dragend', () => taskItem.classList.remove('dragging'));
                    taskItem.addEventListener('dragover', (e) => e.preventDefault());
                    taskItem.addEventListener('drop', (e) => {
                        e.preventDefault();
                        if (draggedElement !== taskItem) {
                            const allTasks = [...taskList.querySelectorAll('.task-item')];
                            const draggedIndex = allTasks.indexOf(draggedElement), targetIndex = allTasks.indexOf(taskItem);
                            if (draggedIndex < targetIndex) taskItem.after(draggedElement); else taskItem.before(draggedElement);
                            allTasks.forEach((task, i) => {
                                const text = task.textContent.substring(task.textContent.indexOf('.') + 2);
                                task.textContent = `${i + 1}. ${text}`;
                            });
                        }
                    });
                    taskList.appendChild(taskItem);
                });
                this.priorityStartTime = startTime;
            }
            checkPriorities() {
                const taskList = document.getElementById('taskList'), orderedTasks = [...taskList.querySelectorAll('.task-item')];
                let correctPositions = 0;
                const priorities = orderedTasks.map(task => parseInt(task.dataset.priority));
                for (let i = 0; i < priorities.length - 1; i++) if (priorities[i] <= priorities[i + 1]) correctPositions++;
                const accuracy = correctPositions / (priorities.length - 1), timeSpent = Date.now() - this.priorityStartTime;
                if (accuracy >= 0.75) { this.scores.cognitive += 2; this.scores.stress -= 1; } else if (accuracy < 0.5) this.scores.stress += 2;
                if (timeSpent < 10000) this.scores.impulsivity += 1; else if (timeSpent > 40000) this.scores.burnout += 1;
                this.levelData.push({ level: 7, metric: '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏', accuracy: accuracy, timeSpent: timeSpent });
                this.nextLevel();
            }
            level8_Focus() {
                const gridSize = 25, targetNumber = 7;
                let foundTargets = 0, totalTargets = 0, wrongClicks = 0, duration = 25000;
                this.gameArea.innerHTML = `<div class="instruction"><strong>–£—Ä–æ–≤–µ–Ω—å 8: –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –≤–Ω–∏–º–∞–Ω–∏—è</strong><br>–ù–∞–π–¥–∏—Ç–µ –∏ –Ω–∞–∂–º–∏—Ç–µ –≤—Å–µ —á–∏—Å–ª–∞ "${targetNumber}"</div><div class="timer" id="focusTimer">25 —Å–µ–∫—É–Ω–¥</div><div class="timer" id="focusScore">–ù–∞–π–¥–µ–Ω–æ: 0</div><div class="focus-grid" id="focusGrid"></div>`;
                const grid = document.getElementById('focusGrid'), timer = document.getElementById('focusTimer'), scoreDisplay = document.getElementById('focus
Score'), startTime = Date.now();
                for (let i = 0; i < gridSize; i++) {
                    const cell = document.createElement('div');
                    cell.className = 'focus-cell';
                    const isTarget = Math.random() < 0.12;
                    if (isTarget) { cell.textContent = targetNumber; cell.dataset.target = 'true'; totalTargets++; } else { const randomNum = Math.floor(Math.random() * 9) + 1; cell.textContent = randomNum === targetNumber ? randomNum + 1 : randomNum; }
                    cell.onclick = () => {
                        if (cell.dataset.clicked) return;
                        cell.dataset.clicked = 'true';
                        if (cell.dataset.target) { foundTargets++; cell.classList.add('target'); scoreDisplay.textContent = `–ù–∞–π–¥–µ–Ω–æ: ${foundTargets}/${totalTargets}`; if (foundTargets === totalTargets) { clearInterval(timerInterval); finishLevel(); } } else { wrongClicks++; cell.style.background = '#ff6b6b'; setTimeout(() => cell.style.background = '#e9ecef', 200); }
                    };
                    grid.appendChild(cell);
                }
                const timerInterval = setInterval(() => {
                    const timeRemaining = duration - (Date.now() - startTime);
                    if (timeRemaining <= 0) { clearInterval(timerInterval); finishLevel(); } else timer.textContent = `${Math.ceil(timeRemaining / 1000)} —Å–µ–∫—É–Ω–¥`;
                }, 100);
                const finishLevel = () => {
                    const accuracy = totalTargets > 0 ? foundTargets / totalTargets : 0, errorRate = wrongClicks / (foundTargets + wrongClicks);
                    if (accuracy >= 0.8 && errorRate < 0.2) { this.scores.focus += 3; this.scores.cognitive += 2; } else if (accuracy < 0.5) { this.scores.focus -= 2; this.scores.burnout += 1; }
                    if (errorRate > 0.4) this.scores.impulsivity += 2;
                    this.levelData.push({ level: 8, metric: '–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è', accuracy: accuracy, wrongClicks: wrongClicks, errorRate: errorRate });
                    this.nextLevel();
                };
            }
            level9_EmotionRecognition() {
                const emotions = [
                    { emoji: 'üòä', name: '–†–∞–¥–æ—Å—Ç—å', positive: true },
                    { emoji: 'üò¢', name: '–ì—Ä—É—Å—Ç—å', positive: false },
                    { emoji: 'üò†', name: '–ì–Ω–µ–≤', positive: false },
                    { emoji: 'üò∞', name: '–¢—Ä–µ–≤–æ–≥–∞', positive: false },
                    { emoji: 'üòå', name: '–°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ', positive: true },
                    { emoji: 'üò´', name: '–£—Å—Ç–∞–ª–æ—Å—Ç—å', positive: false }
                ];
                let round = 0, maxRounds = 6, responseTimes = [], negativeSelections = 0;
                const startRound = () => {
                    if (round >= maxRounds) {
                        const avgTime = responseTimes.reduce((a, b) => a + b, 0) / responseTimes.length, negativeRate = negativeSelections / maxRounds;
                        if (negativeRate > 0.5) { this.scores.emotional -= 2; this.scores.burnout += 2; } else if (negativeRate < 0.3) this.scores.emotional += 2;
                        if (avgTime < 1500) this.scores.impulsivity += 1;
                        this.levelData.push({ level: 9, metric: '–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ', negativeRate: negativeRate, avgResponseTime: avgTime });
                        this.nextLevel();
                        return;
                    }
                    const emotion = emotions[round], startTime = Date.now();
                    this.gameArea.innerHTML = `<div class="instruction"><strong>–£—Ä–æ–≤–µ–Ω—å 9: –≠–º–æ—Ü–∏–∏</strong><br>–ß—Ç–æ –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ, –≥–ª—è–¥—è –Ω–∞ —ç—Ç–æ?</div><div class="timer">–í–æ–ø—Ä–æ—Å ${round + 1} –∏–∑ ${maxRounds}</div><div class="emotion-face">${emotion.emoji}</div><div class="emotion-buttons"><button class="btn" onclick="game.selectEmotion('positive', ${startTime})">–ü–æ–∑–∏—Ç–∏–≤–Ω–æ–µ</button><button class="btn" onclick="game.selectEmotion('negative', ${startTime})">–ù–µ–≥–∞—Ç–∏–≤–Ω–æ–µ</button><button class="btn" onclick="game.selectEmotion('neutral', ${startTime})">–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ</button></div>`;
                    this.currentEmotionRound = round;
                    this.emotionResponseTimes = responseTimes;
                    this.emotionNegativeCount = { val: negativeSelections };
                    round++;
                };
                startRound();
            }
            selectEmotion(choice, startTime) {
                this.emotionResponseTimes.push(Date.now() - startTime);
                if (choice === 'negative') this.emotionNegativeCount.val++;
                const emotions = [{ emoji: 'üòä', name: '–†–∞–¥–æ—Å—Ç—å', positive: true }, { emoji: 'üò¢', name: '–ì—Ä—É—Å—Ç—å', positive: false }, { emoji: 'üò†', name: '–ì–Ω–µ–≤', positive: false }, { emoji: 'üò∞', name: '–¢—Ä–µ–≤–æ–≥–∞', positive: false }, { emoji: 'üòå', name: '–°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ', positive: true }, { emoji: 'üò´', name: '–£—Å—Ç–∞–ª–æ—Å—Ç—å', positive: false }];
                let round = this.currentEmotionRound + 1, maxRounds = 6;
                if (round >= maxRounds) {
                    const avgTime = this.emotionResponseTimes.reduce((a, b) => a + b, 0) / this.emotionResponseTimes.length, negativeRate = this.emotionNegativeCount.val / maxRounds;
                    if (negativeRate > 0.5) { this.scores.emotional -= 2; this.scores.burnout += 2; } else if (negativeRate < 0.3) this.scores.emotional += 2;
                    if (avgTime < 1500) this.scores.impulsivity += 1;
                    this.levelData.push({ level: 9, metric: '–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ', negativeRate: negativeRate, avgResponseTime: avgTime });
                    this.nextLevel();
                    return;
                }
                setTimeout(() => {
                    const emotion = emotions[round], newStartTime = Date.now();
                    this.gameArea.innerHTML = `<div class="instruction"><strong>–£—Ä–æ–≤–µ–Ω—å 9: –≠–º–æ—Ü–∏–∏</strong><br>–ß—Ç–æ –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ, –≥–ª—è–¥—è –Ω–∞ —ç—Ç–æ?</div><div class="timer">–í–æ–ø—Ä–æ—Å ${round + 1} –∏–∑ ${maxRounds}</div><div class="emotion-face">${emotion.emoji}</div><div class="emotion-buttons"><button class="btn" onclick="game.selectEmotion('positive', ${newStartTime})">–ü–æ–∑–∏—Ç–∏–≤–Ω–æ–µ</button><button class="btn" onclick="game.selectEmotion('negative', ${newStartTime})">–ù–µ–≥–∞—Ç–∏–≤–Ω–æ–µ</button><button class="btn" onclick="game.selectEmotion('neutral', ${newStartTime})">–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ</button></div>`;
                    this.currentEmotionRound = round;
                }, 500);
            }
            level10_DecisionMaking() {
                const scenarios = [
                    { text: '–£ –≤–∞—Å –≥–æ—Ä—è—â–∏–π –¥–µ–¥–ª–∞–π–Ω —á–µ—Ä–µ–∑ 2 —á–∞—Å–∞, –Ω–æ –∫–æ–ª–ª–µ–≥–∞ –ø—Ä–æ—Å–∏—Ç —Å—Ä–æ—á–Ω–æ–π –ø–æ–º–æ—â–∏ –Ω–∞ 30 –º–∏–Ω—É—Ç.', options: [{ text: '–°—Ä–∞–∑—É –ø–æ–º–æ—á—å –∫–æ–ª–ª–µ–≥–µ', impulsive: true, stress: 2 }, { text: '–û—Ç–∫–∞–∑–∞—Ç—å –∏ –¥–æ–¥–µ–ª–∞—Ç—å —Å–≤–æ–µ', stress: 1 }, { text: '–ü–æ–º–æ—á—å –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π —á–∞—Å—Ç–∏', balanced: true }] },
                    { text: '–í—ã –æ—à–∏–±–ª–∏—Å—å –≤ –≤–∞–∂–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ. –û—à–∏–±–∫—É –∑–∞–º–µ—Ç—è—Ç —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π.', options: [{ text: '–°–æ–æ–±—â–∏—Ç—å —Å—Ä–∞–∑—É', balanced: true }, { text: '–ü–æ–¥–æ–∂–¥–∞—Ç—å, –º–æ–∂–µ—Ç –Ω–µ –∑–∞–º–µ—Ç—è—Ç', stress: 3 }, { text: '–ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–∏—Ö–æ, –Ω–∏–∫–æ–º—É –Ω–µ –≥–æ–≤–æ—Ä—è', stress: 2 }] },
                    { text: '–ü—Ä–µ–¥–ª–æ–∂–∏–ª–∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç, –Ω–æ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –ø–µ—Ä–µ–≥—Ä—É–∑.', options: [{ text: '–°–æ–≥–ª–∞—Å–∏—Ç—å—Å—è, –∫–∞–∫-–Ω–∏–±—É–¥—å —Å–ø—Ä–∞–≤–ª—é—Å—å', impulsive: true, stress: 3 }, { text: '–û—Ç–∫–∞–∑–∞—Ç—å—Å—è —Å—Ä–∞–∑—É', balanced: true }, { text: '–í–∑—è—Ç—å, –Ω–æ –ø–æ–ø—Ä–æ—Å–∏—Ç—å –ø–æ–º–æ—â—å –∫–æ–º–∞–Ω–¥—ã', stress: 1 }] }
                ];
                let scenarioIndex = 0, decisionTimes = [];
                const showScenario = () => {
                    if (scenarioIndex >= scenarios.length) {
                        const avgTime = decisionTimes.reduce((a, b) => a + b, 0) / decisionTimes.length;
                        this.levelData.push({ level: 10, metric: '–ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π', avgDecisionTime: avgTime });
                        this.showResults();
                        return;
                    }
                    const scenario = scenarios[scenarioIndex], startTime = Date.now();
                    this.gameArea.innerHTML = `<div class="instruction"><strong>–£—Ä–æ–≤–µ–Ω—å 10: –ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π</strong><br>–í—ã–±–µ—Ä–∏—Ç–µ, –∫–∞–∫ –±—ã –≤—ã –ø–æ—Å—Ç—É–ø–∏–ª–∏</div><div class="decision-scenario"><p style="line-height: 1.6;">${scenario.text}</p></div><div class="decision-options" id="decisionOptions"></div>`;
                    const optionsContainer = document.getElementById('decisionOptions');
                    scenario.options.forEach((option, index) => {
                        const optionDiv = document.createElement('div');
                        optionDiv.className = 'decision-option';
                        optionDiv.textContent = option.text;
                        optionDiv.onclick = () => {
                            decisionTimes.push(Date.now() - startTime);
                            if (option.stress) this.scores.stress += option.stress;
                            if (option.impulsive) this.scores.impulsivity += 2;
                            if (option.balanced) { this.scores.cognitive += 1; this.scores.emotional += 1; }
                            if (Date.now() - startTime < 3000) this.scores.impulsivity += 1;
                            scenarioIndex++;
                            setTimeout(() => showScenario(), 500);
                        };
                        optionsContainer.appendChild(optionDiv);
                    });
                };
                showScenario();
            }
            nextLevel() {
                this.currentLevel++;
                if (this.currentLevel <= this.totalLevels) setTimeout(() => this.loadLevel(this.currentLevel), 1000);
            }
            showResults() {
                this.progressFill.style.width = '100%';
                this.levelInfo.textContent = '–ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω';
                const normalize = (value, max) => Math.max(0, Math.min(100, (value / max) * 100));
                const stressLevel = normalize(this.scores.stress, 20), focusLevel = normalize(this.scores.focus + 10, 20), cognitiveLevel = normalize(this.scores.cognitive + 10, 20), emotionalLevel = normalize(this.scores.emotional + 10, 15), burnoutLevel = normalize(this.scores.burnout, 15), anxietyLevel = normalize(this.scores.anxiety, 15), patienceLevel = normalize(this.scores.patience + 10, 15);
                const overallScore = Math.round((focusLevel + cognitiveLevel + emotionalLevel + patienceLevel) / 4 - (stressLevel + burnoutLevel + anxietyLevel) / 6);
                let status, statusColor, statusDescription;
                if (overallScore >= 70) { status = '–û—Ç–ª–∏—á–Ω–æ–µ'; statusColor = '#51cf66'; statusDescription = '–í—ã –≤ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–π —Ñ–æ—Ä–º–µ! –í–∞—à–µ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ –∏ –≥–∞—Ä–º–æ–Ω–∏—á–Ω–æ.'; } else if (overallScore >= 50) { status = '–•–æ—Ä–æ—à–µ–µ'; statusColor = '#4c6ef5'; statusDescription = '–í–∞—à–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ —Ü–µ–ª–æ–º –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–µ, –Ω–æ –µ—Å—Ç—å –æ–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è.'; } else if (overallScore >= 30) { status = '–£–º–µ—Ä–µ–Ω–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ'; statusColor = '#ffd43b'; statusDescription = '–ó–∞–º–µ—Ç–Ω—ã –ø—Ä–∏–∑–Ω–∞–∫–∏ —É—Å—Ç–∞–ª–æ—Å—Ç–∏ –∏ —Å—Ç—Ä–µ—Å—Å–∞. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –±–æ–ª—å—à–µ –≤–Ω–∏–º–∞–Ω–∏—è —É–¥–µ–ª–∏—Ç—å –æ—Ç–¥—ã—Ö—É.'; } else { status = '–¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è'; statusColor = '#ff6b6b'; statusDescription = '–í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞ –∏ –ø—Ä–∏–∑–Ω–∞–∫–∏ –≤—ã–≥–æ—Ä–∞–Ω–∏—è. –ù–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ç–¥—ã—Ö –∏ –≤–æ–∑–º–æ–∂–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞.'; }
                const recommendations = [];
                if (stressLevel > 60) recommendations.push('üßò <strong>–°—Ç—Ä–µ—Å—Å:</strong> –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è, –º–µ–¥–∏—Ç–∞—Ü–∏—é –∏–ª–∏ –π–æ–≥—É. –£–¥–µ–ª—è–π—Ç–µ –≤—Ä–µ–º—è —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.');
                if (burnoutLevel > 50) recommendations.push('üî• <strong>–í—ã–≥–æ—Ä–∞–Ω–∏–µ:</strong> –ü–µ—Ä–µ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞–±–æ—á—É—é –Ω–∞–≥—Ä—É–∑–∫—É. –í–∞–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–µ—Ç–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã –º–µ–∂–¥—É —Ä–∞–±–æ—Ç–æ–π –∏ –ª–∏—á–Ω–æ–π –∂–∏–∑–Ω—å—é. –ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø–µ—Ä–µ—Ä—ã–≤—ã.');
                if (focusLevel < 40) recommendations.push('üéØ <strong>–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è:</strong> –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ç–µ—Ö–Ω–∏–∫—É Pomodoro. –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –æ—Ç–≤–ª–µ–∫–∞—é—â–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã. –í—ã—Å—ã–ø–∞–π—Ç–µ—Å—å (7-9 —á–∞—Å–æ–≤ —Å–Ω–∞).');
                if (anxietyLevel > 50) recommendations.push('üò∞ <strong>–¢—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å:</strong> –í–µ–¥–∏—Ç–µ –¥–Ω–µ–≤–Ω–∏–∫ –º—ã—Å–ª–µ–π. –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å (mindfulness). –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É.');
                if (cognitiveLevel < 40) recommendations.push('üß† <strong>–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</strong> –£–ª—É—á—à–∏—Ç–µ —Ä–µ–∂–∏–º —Å–Ω–∞. –î–æ–±–∞–≤—å—Ç–µ –≤ —Ä–∞—Ü–∏–æ–Ω –ø—Ä–æ–¥—É–∫—Ç—ã, –±–æ–≥–∞—Ç—ã–µ –æ–º–µ–≥–∞-3. –†–µ—à–∞–π—Ç–µ –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∏ –∏ –∏–≥—Ä–∞–π—Ç–µ –≤ —Ä–∞–∑–≤–∏–≤–∞—é—â–∏–µ –∏–≥—Ä—ã.');
                if (emotionalLevel < 40) recommendations.push('üíô <strong>–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:</strong> –û–±—â–∞–π—Ç–µ—Å—å —Å –±–ª–∏–∑–∫–∏–º–∏ –ª—é–¥—å–º–∏. –ó–∞–Ω–∏–º–∞–π—Ç–µ—Å—å —Ç–µ–º, —á—Ç–æ –ø—Ä–∏–Ω–æ—Å–∏—Ç —Ä–∞–¥–æ—Å—Ç—å. –ù–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ —Å–≤–æ–∏ —á—É–≤—Å—Ç–≤–∞.');
                if (this.scores.impulsivity > 5) recommendations.push('‚ö° <strong>–ò–º–ø—É–ª—å—Å–∏–≤–Ω–æ—Å—Ç—å:</strong> –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ —Ç–µ—Ö–Ω–∏–∫—É "5 —Å–µ–∫—É–Ω–¥ –ø–∞—É–∑—ã" –ø–µ—Ä–µ–¥ –ø—Ä–∏–Ω—è—Ç–∏–µ–º —Ä–µ—à–µ–Ω–∏–π. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –±–æ–ª–µ–µ –≤–∑–≤–µ—à–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è.');
                if (recommendations.length === 0) recommendations.push('‚ú® <strong>–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞!</strong> –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∑–¥–æ—Ä–æ–≤—ã–π –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Ä–∞–±–æ—Ç–æ–π –∏ –æ—Ç–¥—ã—Ö–æ–º.');
                let detailsHTML = '';
                this.levelData.forEach(level => {
                    detailsHTML += `<div style="margin: 15px 0; padding: 10px; background: white; border-radius: 5px;"><strong>–£—Ä–æ–≤–µ–Ω—å ${level.level}: ${level.metric}</strong><br>`;
                    switch(level.level) {
                        case 1: detailsHTML += `–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è —Ä–µ–∞–∫—Ü–∏–∏: ${Math.round(level.value)} –º—Å<br>`; if (level.value < 250) detailsHTML += `<small style="color: #ffa94d;">–ë—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–∫—Ü–∏—è –º–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –ø–æ–≤—ã—à–µ–Ω–Ω—É—é –≤–æ–∑–±—É–¥–∏–º–æ—Å—Ç—å –Ω–µ—Ä–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã</small>`; else if (level.value > 500) detailsHTML += `<small style="color: #868e96;">–ó–∞–º–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–æ–º —É—Å—Ç–∞–ª–æ—Å—Ç–∏</small>`; else detailsHTML += `<small style="color: #51cf66;">–û—Ç–ª–∏—á–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∞–∫—Ü–∏–∏</small>`; break;
                        case 2: detailsHTML += `–¢–æ—á–Ω–æ—Å—Ç—å: ${Math.round(level.value * 100)}% (${level.correct}/${level.total})<br>`; if (level.value >= 0.8) detailsHTML += `<small style="color: #51cf66;">–û—Ç–ª–∏—á–Ω–∞—è –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å</small>`; else if (level.value < 0.5) detailsHTML += `<small style="color: #ff6b6b;">–í–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–µ–π</small>`; break;
                        case 3: detailsHTML += `–¢–æ—á–Ω–æ—Å—Ç—å: ${Math.round(level.accuracy * 100)}%, –í—Ä–µ–º—è: ${Math.round(level.avgTime / 1000)} —Å–µ–∫<br>`; if (level.accuracy >= 0.8) detailsHTML += `<small style="color: #51cf66;">–•–æ—Ä–æ—à–∏–π –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å</small>`; else detailsHTML += `<small style="color: #ffa94d;">–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ—Ä—Ñ–µ—Ä–µ–Ω—Ü–∏—è</small>`; break;
                        case 4: detailsHTML += `–¢–µ—Ä–ø–µ–ª–∏–≤–æ—Å—Ç—å: ${level.patience}/3, –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–π: ${level.interruptions}<br>`; if (level.interruptions === 0) detailsHTML += `<small style="color: #51cf66;">–û—Ç–ª–∏—á–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫ —Å–∞–º–æ—Ä–µ–≥—É–ª—è—Ü–∏–∏</small>`; else if (level.interruptions > 3) detailsHTML += `<small style="color: #ff6b6b;">–ü–æ–≤—ã—à–µ–Ω–Ω–∞—è –∏–º–ø—É–ª—å—Å–∏–≤–Ω–æ—Å—Ç—å</small>`; break;
                        case 5: detailsHTML += `–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞: ${level.mathScore}, –ü–µ—á–∞—Ç—å: ${level.typingScore}, –û–±—â–∏–π –±–∞–ª–ª: ${level.totalScore}<br>`; if (level.totalScore >= 10) detailsHTML += `<small style="color: #51cf66;">–û—Ç–ª–∏—á–Ω–∞—è –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å</small>`; else if (level.totalScore < 5) detailsHTML += `<small style="color: #ffa94d;">–¢—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å—é</small>`; break;
                        case 6: detailsHTML += `–¢–æ—á–Ω–æ—Å—Ç—å: ${Math.round(level.accuracy)}%, –î–≤–∏–∂–µ–Ω–∏–π: ${level.movements}<br>`; if (level.accuracy >= 60) detailsHTML += `<small style="color: #51cf66;">–•–æ—Ä–æ—à–∏–π –º–æ—Ç–æ—Ä–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å</small>`; else detailsHTML += `<small style="color: #ffa94d;">–í–æ–∑–º–æ–∂–Ω–∞ –ø–æ–≤—ã—à–µ–Ω–Ω–∞—è —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å</small>`; break;
                        case 7: detailsHTML += `–¢–æ—á–Ω–æ—Å—Ç—å: ${Math.round(level.accuracy * 100)}%, –í—Ä–µ–º—è: ${Math.round(level.timeSpent / 1000)} —Å–µ–∫<br>`; if (level.accuracy >= 0.75) detailsHTML += `<small style="color: #51cf66;">–•–æ—Ä–æ—à–∏–µ –Ω–∞–≤—ã–∫–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</small>`; else detailsHTML += `<small style="color: #ffa94d;">–°–ª–æ–∂–Ω–æ—Å—Ç–∏ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏</small>`; break;
                        case 8: detailsHTML += `–¢–æ—á–Ω–æ—Å—Ç—å: ${Math.round(level.accuracy * 100)}%, –û—à–∏–±–æ–∫: ${level.wrongClicks}<br>`; if (level.accuracy >= 0.8 && level.errorRate < 0.2) detailsHTML += `<small style="color: #51cf66;">–û—Ç–ª–∏—á–Ω–∞—è –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è</small>`; else if (level.errorRate > 0.4) detailsHTML += `<small style="color: #ff6b6b;">–í—ã—Å–æ–∫–∞—è –æ—Ç–≤–ª–µ–∫–∞–µ–º–æ—Å—Ç—å</small>`; break;
                        case 9: detailsHTML += `–ù–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö –≤—ã–±–æ—Ä–æ–≤: ${Math.round(level.negativeRate * 100)}%<br>`; if (level.negativeRate > 0.5) detailsHTML += `<small style="color: #ff6b6b;">–ü—Ä–µ–æ–±–ª–∞–¥–∞–Ω–∏–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–≥–æ –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è</small>`; else if (level.negativeRate < 0.3) detailsHTML += `<small style="color: #51cf66;">–ü–æ–∑–∏—Ç–∏–≤–Ω—ã–π —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–æ–Ω</small>`; break;
                        case 10: detailsHTML += `–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è —Ä–µ—à–µ–Ω–∏—è: ${Math.round(level.avgDecisionTime / 1000)} —Å–µ–∫<br>`; if (level.avgDecisionTime < 3000) detailsHTML += `<small style="color: #ffa94d;">–ë—ã—Å—Ç—Ä—ã–µ –∏–º–ø—É–ª—å—Å–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è</small>`; else if (level.avgDecisionTime > 15000) detailsHTML += `<small style="color: #868e96;">–î–æ–ª–≥–æ–µ –æ–±–¥—É–º—ã–≤–∞–Ω–∏–µ</small>`; else detailsHTML += `<small style="color: #51cf66;">–í–∑–≤–µ—à–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥</small>`; break;
                    }
                    detailsHTML += `</div>`;
                });
                this.gameArea.innerHTML = `<div class="result-screen"><h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞</h2><div class="result-score" style="color: ${statusColor}">${overallScore}%</div><div style="font-size: 24px; margin: 10px 0; color: ${statusColor}">–°–æ—Å—Ç–æ—è–Ω–∏–µ: ${status}</div><p style="margin: 20px 0; line-height: 1.6;">${statusDescription}</p><div class="result-card"><h3>–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑</h3><div class="metric"><span>–£—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞:</span><div class="metric-bar"><div class="metric-fill" style="width: ${stressLevel}%; background: linear-gradient(90deg, #51cf66 0%, #ff6b6b 100%)"></div></div><span>${Math.round(stressLevel)}%</span></div><div class="metric"><span>–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è:</span><div class="metric-bar"><div class="metric-fill" style="width: ${focusLevel}%; background: linear-gradient(90deg, #ff6b6b 0%, #51cf66 100%)"></div></div><span>${Math.round(focusLevel)}%</span></div><div class="metric"><span>–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</span><div class="metric-bar"><div class="metric-fill" style="width: ${cognitiveLevel}%; background: linear-gradient(90deg, #ff6b6b 0%, #51cf66 100%)"></div></div><span>${Math.round(cognitiveLevel)}%</span></div><div class="metric"><span>–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:</span><div class="metric-bar"><div class="metric-fill" style="width: ${emotionalLevel}%; background: linear-gradient(90deg, #ff6b6b 0%, #51cf66 100%)"></div></div><span>${Math.round(emotionalLevel)}%</span></div><div class="metric"><span>–†–∏—Å–∫ –≤—ã–≥–æ—Ä–∞–Ω–∏—è:</span><div class="metric-bar"><div class="metric-fill" style="width: ${burnoutLevel}%; background: linear-gradient(90deg, #51cf66 0%, #ff6b6b 100%)"></div></div><span>${Math.round(burnoutLevel)}%</span></div><div class="metric"><span>–¢—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å:</span><div class="metric-bar"><div class="metric-fill" style="width: ${anxietyLevel}%; background: linear-gradient(90deg, #51cf66 0%, #ff6b6b 100%)"></div></div><span>${Math.round(anxietyLevel)}%</span></div><div class="metric"><span>–¢–µ—Ä–ø–µ–ª–∏–≤–æ—Å—Ç—å:</span><div class="metric-bar"><div class="metric-fill" style="width: ${patienceLevel}%; background: linear-gradient(90deg, #ff6b6b 0%, #51cf66 100%)"></div></div><span>${Math.round(patienceLevel)}%</span></div></div><div class="result-card"><h3>üìã –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h3>${recommendations.map(rec => `<div class="recommendation">${rec}</div>`).join('')}</div><div class="result-card"><h3>üìä –ü–æ–¥—Ä–æ–±–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —É—Ä–æ–≤–Ω—è–º</h3>${detailsHTML}</div><div class="result-card" style="background: #e7f5ff; border-left: 4px solid #339af0;"><h3>üí° –ß—Ç–æ –¥–∞–ª—å—à–µ?</h3><p style="line-height: 1.6; margin: 10px 0;"><strong>–†–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å:</strong> –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —Ç–µ—Å—Ç —Ä–∞–∑ –≤ 2-4 –Ω–µ–¥–µ–ª–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–∏–Ω–∞–º–∏–∫–∏.<br><br><strong>–î–µ–π—Å—Ç–≤–∏—è:</strong> –ù–∞—á–Ω–∏—Ç–µ —Å 1-2 —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –∫–∞–∂—É—Ç—Å—è –≤–∞–º –Ω–∞–∏–±–æ–ª–µ–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏.<br><br><strong>–ü–æ–¥–¥–µ—Ä–∂–∫–∞:</strong> –ï—Å–ª–∏ —Å–∏—Ç—É–∞—Ü–∏—è –Ω–µ —É–ª—É—á—à–∞–µ—Ç—Å—è –∏–ª–∏ —É—Ö—É–¥—à–∞–µ—Ç—Å—è, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –ø—Å–∏—Ö–æ–ª–æ–≥—É –∏–ª–∏ –ø—Å–∏—Ö–æ—Ç–µ—Ä–∞–ø–µ–≤—Ç—É.</p></div><div style="margin-top: 30px;"><button class="btn" onclick="game.restart()">üîÑ –ü—Ä–æ–π—Ç–∏ —Å–Ω–æ–≤–∞</button><button class="btn" onclick="game.shareResults()">üì§ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</button></div></div>`;
                setTimeout(() => document.querySelectorAll('.metric-fill').forEach((fill, index) => setTimeout(() => fill.style.transition = 'width 1s ease-out', index * 100)), 100);
            }
            restart() {
                this.currentLevel = 0;
                this.scores = { stress: 0, focus: 0, patience: 0, cognitive: 0, emotional: 0, burnout: 0, anxiety: 0, impulsivity: 0 };
                this.levelData = [];
                this.progressFill.style.width = '0%';
                this.init();
            }
            shareResults() {
                const results = `–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∞ "–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ë–∞–ª–∞–Ω—Å"\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nüìä –û–ë–©–ò–ï –ü–û–ö–ê–ó–ê–¢–ï–õ–ò:\n${this.levelData.map(level => `\n‚ñ´Ô∏è ${level.metric}\n   ${JSON.stringify(level, null, 2).split('\n').slice(1, -1).join('\n   ')}`).join('')}\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n–¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω: ${new Date().toLocaleString('ru-RU')}`;
                const blob = new Blob([results], { type: 'text/plain;charset=utf-8' }), url = URL.createObjectURL(blob), a = document.createElement('a');
                a.href = url;
                a.download = `psych-test-${Date.now()}.txt`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                if (navigator.clipboard) navigator.clipboard.writeText(results).then(() => alert('‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ —Ñ–∞–π–ª –∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!')).catch(() => alert('‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ —Ñ–∞–π–ª!')); else alert('‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ —Ñ–∞–π–ª!');
            }
        }
        let game;
        window.onload = () => { game = new PsychGame(); };
    </script>
</body>
</html>
